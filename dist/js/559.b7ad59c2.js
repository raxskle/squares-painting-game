"use strict";(self["webpackChunkbypixel"]=self["webpackChunkbypixel"]||[]).push([[559],{4559:function(e,a,l){l.r(a),l.d(a,{default:function(){return De}});var o=l(3396),t=l(4870),s=l(3194),n=l(4018),u=l(6963),c=l(4336),i={__name:"mainCanvas",props:{mode:{type:Number,default:0},refresh:{type:Boolean}},emits:["changeMode","changeRefresh"],setup(e,{emit:a}){const l=e,{mode:i,refresh:r}=(0,t.BK)(l);console.log("mode.value:",i.value);let d=(0,t.qj)({scaleX:1,scaleY:1});console.log("进入主页面且开始初始化数据"),u.Z.initCanvasData();let g=u.Z.configKonva;u.Z.fillConfigKonva();let v=u.Z.configField;u.Z.fillconfigField();let f=u.Z.configSquares;u.Z.fillConfigSquares();let p,m,Z=(0,t.iH)(null),h=(0,t.iH)(null),S=(0,t.iH)(null),_={squareName:"square0",squareId:-1,stroke:"#c8c8c8",strokeWidth:1},y=e=>{p=e.target.parent.attrs.x,m=e.target.parent.attrs.y},q=(0,t.qj)({scale:1,centerX0:0,centerY0:0,centerXf:0,centerYf:0,oldDistance:0}),k=(e,a)=>Math.hypot(e.x-a.x,e.y-a.y),w=(e,a)=>({x:(e.x+a.x)/2,y:(e.y+a.y)/2}),C=e=>{if(void 0==e.evt&&(console.log("touchstart",e),2==e.touches.length)){let a={x:e.touches[0].clientX,y:e.touches[0].clientY},l={x:e.touches[1].clientX,y:e.touches[1].clientY},o=k(a,l);q.oldDistance=o;let t=w(a,l),s=document.querySelector("#canvasContainer").getBoundingClientRect().x,n=document.querySelector("#canvasContainer").getBoundingClientRect().y;q.centerX0=t.x-s,q.centerY0=t.y-n,q.centerXf=(q.centerX0-p)/q.scale*u.Z.fieldScale0,q.centerYf=(q.centerY0-m)/q.scale*u.Z.fieldScale0}},U=e=>{console.log("end:",e),void 0==e.evt&&(q.oldDistance=0)},b=e=>{if(void 0==e.evt){if(0!=q.oldDistance&&2==e.changedTouches.length){let a={x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY},l={x:e.changedTouches[1].clientX,y:e.changedTouches[1].clientY},o=k(a,l),t=.08*u.Z.squareXnum/25,s=o/q.oldDistance*t;s>1.5*t?s=1.5*t:s<.7*t&&(s=.7*t),s>1*t?q.scale=q.scale+s>4?4:q.scale+s:s<1*t&&(q.scale=q.scale-s>4?4:q.scale-s),q.scale<1&&(q.scale=1),q.scale>4*u.Z.squareXnum/25&&(q.scale=4),1==q.scale?(u.Z.configField.scaleX=u.Z.fieldScale0,u.Z.configField.scaleY=u.Z.fieldScale0,u.Z.configField.x=u.Z.fieldX0,u.Z.configField.y=u.Z.fieldY0,u.Z.configField.draggable=!0,u.Z.configField.dragBoundFunc=function(){return{x:u.Z.fieldX0,y:u.Z.fieldY0}}):q.scale>1&&(u.Z.configField.draggable=!1,u.Z.configField.scaleX=q.scale*u.Z.fieldScale0,u.Z.configField.scaleY=q.scale*u.Z.fieldScale0,u.Z.configField.x=q.centerX0-q.centerXf*q.scale*u.Z.fieldScale0,u.Z.configField.y=q.centerY0-q.centerYf*q.scale*u.Z.fieldScale0),q.oldDistance=o}1==e.changedTouches.length&&(1==q.scale?(u.Z.configField.draggable=!0,u.Z.configField.dragBoundFunc=function(){return{x:u.Z.fieldX0,y:u.Z.fieldY0}}):q.scale>1&&(u.Z.configField.draggable=!0,u.Z.configField.dragBoundFunc=function(e){let a=e.y;a=e.y>.3*u.Z.stageHeight?.3*u.Z.stageHeight:e.y<u.Z.stageHeight-u.Z.fieldHeight*u.Z.configField.scaleY-.3*u.Z.stageHeight?u.Z.stageHeight-u.Z.fieldHeight*u.Z.configField.scaleY-.3*u.Z.stageHeight:e.y;let l=e.x;return l=e.x>.3*u.Z.stageWidth?.3*u.Z.stageWidth:e.x<u.Z.stageWidth-u.Z.fieldWidth*u.Z.configField.scaleX-.3*u.Z.stageWidth?u.Z.stageWidth-u.Z.fieldWidth*u.Z.configField.scaleX-.3*u.Z.stageWidth:e.x,{x:l,y:a}}))}},X=()=>{console.log("into drawCanvas更新画布");for(let e=0;e<u.Z.squareYnum;e++)for(let a=0;a<u.Z.squareXnum;a++)u.Z.configSquares[e*u.Z.squareXnum+a].fill=u.Z.squareColor(e,a),u.Z.configSquares[e*u.Z.squareXnum+a].occupy=u.Z.setOccupy(e,a);-1!=u.Z.latestPosition.value[0]&&-1!=u.Z.latestPosition.value[1]&&(-1!=u.Z.lastPosition.value[0]&&-1!=u.Z.lastPosition.value[1]&&(console.log("canvas.lastPosition存在"),u.Z.configSquares[u.Z.lastPosition.value[0]*u.Z.squareXnum+u.Z.lastPosition.value[1]].stroke="rgb(200, 200, 200)"),u.Z.configSquares[u.Z.latestPosition.value[0]*u.Z.squareXnum+u.Z.latestPosition.value[1]].stroke="black",h.value.getStage().find(`.square${u.Z.latestPosition.value[0]*u.Z.squareXnum+u.Z.latestPosition.value[1]}`)[0].moveToTop())},x=()=>{c.Z.get("/canvas").then((e=>{console.log("get canvas数据:",e),u.Z.canvasState.value=e.data.data.canvas,u.Z.canvasState.value.length!=u.Z.squareYnum&&(n.Z.replace("/loading"),location.reload(!0)),u.Z.lastPosition.value=u.Z.latestPosition.value,u.Z.group1Num.value=e.data.data.pixels_num.group_1,u.Z.group2Num.value=e.data.data.pixels_num.group_2,null==e.data.data.last_paint?u.Z.latestPosition.value=[-1,-1]:u.Z.latestPosition.value=e.data.data.last_paint.pixel_position,console.log("canvas.canvasState.value:",u.Z.canvasState.value),X(),console.log("成功刷新画布")})).catch((e=>{console.log("请求canvas发生错误：",e)}))};setInterval(x,2e4),(0,o.YP)(r,(e=>{1==e&&(x(),_.squareId=-1,_.squareName="square0",a("changeRefresh",!1))}));let T=()=>{1==i.value&&a("changeMode",2)};(0,o.YP)(i,((e,a)=>{if(1==e)for(let l=0;l<u.Z.squareYnum;l++)for(let e=0;e<u.Z.squareXnum;e++)3!=u.Z.configSquares[l*u.Z.squareXnum+e].occupy?u.Z.configSquares[l*u.Z.squareXnum+e].strokeWidth=1:3==u.Z.configSquares[l*u.Z.squareXnum+e].occupy&&h.value.getStage().find(`.square${l*u.Z.squareXnum+e}`)[0].moveToBottom();else if(0==e)for(let l=0;l<u.Z.squareYnum;l++)for(let e=0;e<u.Z.squareXnum;e++)3!=u.Z.configSquares[l*u.Z.squareXnum+e].occupy&&(u.Z.configSquares[l*u.Z.squareXnum+e].strokeWidth=0);if(1==e&&2==a){let e=h.value.getStage().find(`.${_.squareName}`)[0];e.attrs.strokeWidth=_.strokeWidth,e.attrs.stroke=_.stroke,e.moveToBottom()}}));let W=function(e){if(console.log("点击了这个格子",e.evt),1==i.value||2==i.value){if(s.Z.group.value!=e.target.attrs.occupy&&3!=e.target.attrs.occupy){let a=e.target.attrs.name,l=a.slice(6);console.log("click this ",l);let o=Math.floor(l/u.Z.squareXnum),t=l%u.Z.squareXnum,s=[];s.push(o),s.push(t),console.log(s),u.Z.targetSquare.value=s,T();let n=h.value.getStage();if(-1!=_.squareId){console.log("恢复上一个");let e=n.find(`.${_.squareName}`)[0];console.log("lastTarget.attrs",e.attrs),console.log("saveSquare.squareName"),e.attrs.strokeWidth=_.strokeWidth,e.attrs.stroke=_.stroke,"black"!=e.attrs.stroke&&e.moveToBottom();let a=Number(_.squareId)+Number(u.Z.squareXnum);a<u.Z.squareXnum*u.Z.squareYnum&&3==n.find(`.square${a}`)[0].attrs.occupy&&n.find(`.square${a}`)[0].moveToBottom();let l=Number(_.squareId)-Number(u.Z.squareXnum);l>=0&&3==n.find(`.square${l}`)[0].attrs.occupy&&n.find(`.square${l}`)[0].moveToBottom();let o=Number(_.squareId)-1;o>=0&&3==n.find(`.square${o}`)[0].attrs.occupy&&n.find(`.square${o}`)[0].moveToBottom();let t=Number(_.squareId)+1;t<u.Z.squareXnum*u.Z.squareYnum&&3==n.find(`.square${t}`)[0].attrs.occupy&&n.find(`.square${t}`)[0].moveToBottom()}else console.log("初次选择");let c=n.find(`.${a}`)[0];_.squareName=c.attrs.name,_.squareId=l,_.stroke=c.attrs.stroke,_.strokeWidth=c.attrs.strokeWidth,console.log("保存当前的stroke",_.stroke),c.moveToTop(),c.attrs.strokeWidth=3,c.attrs.stroke="#c8c8c8"}}else 0==i.value&&e.evt.changedTouches.length<=1&&0==e.evt.targetTouches.length&&0==s.Z.CDtime.value&&a("changeMode",1)};return(0,o.bv)((()=>{console.log("mainCanvas onMounted"),-1!=u.Z.latestPosition.value[0]&&-1!=u.Z.latestPosition.value[1]&&(h.value.getStage().find(`.square${u.Z.latestPosition.value[0]*u.Z.squareXnum+u.Z.latestPosition.value[1]}`)[0].moveToTop(),console.log(u.Z.configSquares))})),(e,a)=>{const l=(0,o.up)("v-rect"),s=(0,o.up)("v-group"),n=(0,o.up)("v-layer"),u=(0,o.up)("v-stage");return(0,o.wg)(),(0,o.iD)("div",{ref_key:"cc",ref:Z,id:"canvasContainer"},[(0,o.Wm)(u,{ref_key:"stage",ref:h,config:(0,t.SU)(g),onTouchmove:(0,t.SU)(b),onTouchstart:(0,t.SU)(C),onTouchend:(0,t.SU)(U)},{default:(0,o.w5)((()=>[(0,o.Wm)(n,{ref:"layer",config:(0,t.SU)(d)},{default:(0,o.w5)((()=>[(0,o.Wm)(s,{ref_key:"Field",ref:S,config:(0,t.SU)(v),onTouchstart:(0,t.SU)(y)},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,t.SU)(f),((e,a)=>((0,o.wg)(),(0,o.j4)(l,{key:a,config:e,onTouchend:(0,t.SU)(W)},null,8,["config","onTouchend"])))),128))])),_:1},8,["config","onTouchstart"])])),_:1},8,["config"])])),_:1},8,["config","onTouchmove","onTouchstart","onTouchend"])],512)}}},r=l(89);const d=(0,r.Z)(i,[["__scopeId","data-v-779b7b9c"]]);var g=d,v=l(7139),f=l(9242),p=l(6265),m=l.n(p),Z=l(7816),h=l(463),S=l(7630);const _=e=>((0,o.dD)("data-v-d8d2f2d0"),e=e(),(0,o.Cn)(),e),y={class:"situation"},q={class:"scoreBar"},k=_((()=>(0,o._)("div",{class:"gridBorder"},null,-1))),w=_((()=>(0,o._)("div",{class:"scoreTitle"},"已涂色块数目",-1))),C={class:"scoreBox"},U={class:"scoreGroup"},b=_((()=>(0,o._)("div",{class:"groupName"},"射日队",-1))),X=_((()=>(0,o._)("div",{class:"groupImg"},[(0,o._)("img",{src:Z})],-1))),x={class:"groupNum"},T=_((()=>(0,o._)("div",{class:"vs"},"VS",-1))),W={class:"scoreGroup"},Y=_((()=>(0,o._)("div",{class:"groupName"},"偷瓜队",-1))),B=_((()=>(0,o._)("div",{class:"groupImg"},[(0,o._)("img",{src:h})],-1))),D={class:"groupNum"},F=_((()=>(0,o._)("div",{class:"gridBorder"},null,-1))),H={class:"wholeView"},I={id:"canvasContainer"},P=(0,o.uE)('<div class="bottomBar" data-v-d8d2f2d0><div class="gridBorder" data-v-d8d2f2d0></div><div class="scrollBar" data-v-d8d2f2d0><p class="animate" data-v-d8d2f2d0>射日队已完成拼图!</p></div><div class="gridBorder" data-v-d8d2f2d0></div></div>',1);var N={__name:"situation",props:{showSit:{type:Boolean}},emits:["changeShowSit"],setup(e,{emit:a}){const l=e;let{showSit:s}=(0,t.BK)(l),n=(0,t.qj)({scaleX:1,scaleY:1}),c=[];for(let o of u.Z.configSquares)c.push((0,t.qj)({x:o.x,y:o.y,width:o.width,height:o.height,fill:o.fill}));let i=()=>{for(let e=0;e<u.Z.squareYnum;e++)for(let a=0;a<u.Z.squareXnum;a++)c[e*u.Z.squareXnum+a].fill=u.Z.configSquares[e*u.Z.squareXnum+a].fill},r=(0,t.qj)({x:0,y:0,scaleX:u.Z.configField.scaleX,scaleY:u.Z.configField.scaleX}),d=(0,t.qj)({width:u.Z.fieldWidth*u.Z.fieldScale0,height:u.Z.fieldHeight*u.Z.fieldScale0});(0,o.YP)(s,(e=>{if(1==e){i(),console.log("战况页面更新");let e=document.querySelector(".popupSituation");e.style.display="flex",a("changeShowSit",!1)}}));let g=()=>{let e=document.querySelector(".popupSituation");e.style.display="none"};return(e,a)=>{const l=(0,o.up)("v-rect"),s=(0,o.up)("v-group"),i=(0,o.up)("v-layer"),f=(0,o.up)("v-stage");return(0,o.wg)(),(0,o.iD)("div",y,[(0,o._)("div",q,[k,w,(0,o._)("div",C,[(0,o._)("div",U,[b,X,(0,o._)("div",x,(0,v.zw)((0,t.SU)(u.Z).group2Num),1)]),T,(0,o._)("div",W,[Y,B,(0,o._)("div",D,(0,v.zw)((0,t.SU)(u.Z).group1Num),1)])]),F]),(0,o._)("div",H,[(0,o._)("div",I,[(0,o.Wm)(f,{ref:"stage",config:(0,t.SU)(d)},{default:(0,o.w5)((()=>[(0,o.Wm)(i,{ref:"layer",config:(0,t.SU)(n)},{default:(0,o.w5)((()=>[(0,o.Wm)(s,{ref:"Field",config:(0,t.SU)(r)},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,t.SU)(c),((e,a)=>((0,o.wg)(),(0,o.j4)(l,{key:a,config:e},null,8,["config"])))),128))])),_:1},8,["config"])])),_:1},8,["config"])])),_:1},8,["config"])]),(0,o._)("div",{class:"clickToFade",onClick:a[0]||(a[0]=(...e)=>(0,t.SU)(g)&&(0,t.SU)(g)(...e))})]),P,(0,o.Wm)(S.Z)])}}};const M=(0,r.Z)(N,[["__scopeId","data-v-d8d2f2d0"]]);var $=M,R={getCDtime(){c.Z.get("/user/state").then((e=>{if(console.log("get 能否draw",e),1==e.data.data.state)console.log("能draw"),s.Z.CDtime.value=0;else if(0==e.data.data.state){console.log("不能draw");let a=e.data.data.last_paint_time;a>16e11&&(a=Math.ceil(a/1e3));let l=60,o=a+l,t=Math.floor(Date.now()/1e3);console.log("下一次",o),console.log("现在",t);let n=o-t<0?0:o-t;(n>=l||n<l-2)&&(n=l-1),s.Z.CDtime.value=n,s.Z.timeGoes()}})).catch((e=>{console.log(e)}))}};const K=e=>((0,o.dD)("data-v-093e4e38"),e=e(),(0,o.Cn)(),e),L={class:"bar"},j={class:"btnBox"},z={id:"drawBtn",class:"btncenterChange"},V=["onClick"],G=K((()=>(0,o._)("h2",null,"任务",-1))),O={class:"popupTips"},E={class:"tipsText"};var A={__name:"bottomBar",props:{mode:{type:Number},refresh:{type:Boolean}},emits:["changeMode","changeRefresh"],setup(e,{emit:a}){const l=e;let n,{mode:c}=(0,t.BK)(l);1==s.Z.group.value?n="#00d599":2==s.Z.group.value&&(n="#ffc500");let i=(0,t.iH)("");if(s.Z.CDtime.value<=0)i.value="填色";else if(s.Z.CDtime.value>0){let e=(0,t.iH)(Math.floor(s.Z.CDtime.value/60)),a=(0,t.iH)(s.Z.CDtime.value%60);a.value<10&&(a.value=`0${a.value}`),i.value=`${e.value}:${a.value}`}(0,o.YP)(s.Z.CDtime,(e=>{if(console.log("cd时间更新"),0==e||e<0)i.value="填色";else{let e=(0,t.iH)(Math.floor(s.Z.CDtime.value/60)),a=(0,t.iH)(s.Z.CDtime.value%60);a.value<10&&(a.value=`0${a.value}`),i.value=`${e.value}:${a.value}`}}));let r=(0,t.iH)(""),d=function(e){r.value=e;let a=document.querySelector(".popupTips");a.className="popupTips scale-in-center",setTimeout((()=>{a.className="popupTips scale-out-center"}),2e3)},g=()=>{if(1==c.value)a("changeMode",0);else if(0==c.value)m().get("/user/state").then((e=>{console.log(e),1==e.data.data.state&&s.Z.CDtime.value<=0?a("changeMode",1):d("每位玩家每小时只能填色一次！")})).catch((e=>{console.log(e)}));else if(2==c.value){let e={position:u.Z.targetSquare.value},l="/canvas";0,m().post(l,e).then((e=>{console.log(e),0==e.data.data.conflicting&&0==e.data.data.cooling?(d("填色成功！"),console.log("填色成功！"),a("changeMode",0),a("changeRefresh",!0),R.getCDtime(),1==e.data.data.is_user_upgraded&&(console.log("user升级了"),s.Z.level.value=e.data.data.user_level),1==e.data.data.is_group_upgraded&&(console.log("group升级了"),1==s.Z.group.value&&(u.Z.group1Level.value=e.data.data.group_level),2==s.Z.group.value&&(u.Z.group2Level.value=e.data.data.group_level),s.Z.groupLevel.value=e.data.data.group_level)):(1==e.data.data.conflicting?(d("你选择的方格已被你的阵营填色，请重新选择！"),console.log("填色失败，你选择的方格已被你的阵营填色")):1==e.data.data.cooling&&(d("填色失败，请重试！"),console.log("填色失败，同用户一小时内只能填色一次")),a("changeMode",1),a("changeRefresh",!0))})).catch((e=>{console.log(e)}))}};(0,o.YP)(c,((e,a)=>{const l=document.querySelector("#drawBtn");console.log("mode change ",e),1==e&&0==a?(l.style.backgroundColor=n,i.value="填色"):0==e&&1==a?(l.style.backgroundColor="rgb(225, 225, 225)",i.value="填色"):2==e?i.value="确认":0==e&&2==a?(l.style.backgroundColor="rgb(225, 225, 225)",i.value="填色"):1==e&&2==a&&(i.value="填色")}));let p=()=>{let e=document.querySelector(".popupTask");e.style.display="flex"},Z=()=>{let e=document.querySelector(".popupTask");e.style.display="none"},h=(0,t.iH)("默认文字");m().get("/task").then((e=>{console.log("获取任务：",e),h.value=e.data.data.task})).catch((e=>{console.log(e)}));let S=(0,t.iH)(!1),_=e=>{S.value=e},y=()=>{_(!0)},q=()=>{let e=document.querySelector(".popupSituation");e.style.display="none"};return(e,a)=>((0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",L,[(0,o._)("div",j,[(0,o._)("div",{class:"btn btnleft",onClick:a[0]||(a[0]=(...e)=>(0,t.SU)(y)&&(0,t.SU)(y)(...e))},"战况"),(0,o._)("div",{class:"btncenter",onClick:a[1]||(a[1]=(...e)=>(0,t.SU)(g)&&(0,t.SU)(g)(...e))},[(0,o._)("div",z,(0,v.zw)((0,t.SU)(i)),1)]),(0,o._)("div",{class:"btn btnright",onClick:a[2]||(a[2]=(...e)=>(0,t.SU)(p)&&(0,t.SU)(p)(...e))},"任务")])]),(0,o._)("div",{class:"popupTask",onClick:a[3]||(a[3]=(...e)=>(0,t.SU)(Z)&&(0,t.SU)(Z)(...e))},[(0,o._)("div",{class:"taskWindow",onClick:(0,f.iM)((e=>null),["stop"])},[G,(0,o._)("p",null,(0,v.zw)((0,t.SU)(h)),1)],8,V)]),(0,o._)("div",{class:"popupSituation",onClick:a[4]||(a[4]=(...e)=>(0,t.SU)(q)&&(0,t.SU)(q)(...e))},[(0,o.Wm)($,{showSit:(0,t.SU)(S),onChangeShowSit:(0,t.SU)(_)},null,8,["showSit","onChangeShowSit"])]),(0,o._)("div",O,[(0,o._)("div",E,(0,v.zw)((0,t.SU)(r)),1)])],64))}};const J=(0,r.Z)(A,[["__scopeId","data-v-093e4e38"]]);var Q=J;const ee={class:"infoBox"},ae={class:"userInfo"},le={class:"infoImg"},oe=["src"],te={class:"groupLogo"},se=["src"];var ne={__name:"userInfo",props:{logo:{},clickable:{}},setup(e){const a=e,{logo:l,clickable:n}=(0,t.BK)(a);let u=()=>{1==n.value&&(document.querySelector(".popupWinerPage").style.display="flex")};console.log("初始化设置头像框");let c=(0,t.iH)(null);return(0,o.bv)((()=>{if(s.Z.groupLevel.value>=2)if(1==s.Z.group.value)try{c.value.style.backgroundImage="url(green_frame.png)"}catch(e){console.log(e)}else if(2==s.Z.group.value)try{c.value.style.backgroundImage="url(yellow_frame.png)"}catch(e){console.log(e)}})),(0,o.YP)(s.Z.groupLevel,(e=>{e>=2&&(1==s.Z.group.value?document.querySelector(".headFrame").style.backgroundImage="url(green_frame.png)":2==s.Z.group.value&&(document.querySelector(".headFrame").style.backgroundImage="url(yellow_frame.png)"))})),(e,a)=>((0,o.wg)(),(0,o.iD)("div",ee,[(0,o._)("div",ae,[(0,o._)("div",le,[(0,o._)("div",{ref_key:"headFrame",ref:c,class:"headFrame"},[(0,o._)("img",{class:"userImg",src:(0,t.SU)(s.Z).userImg},null,8,oe)],512)]),(0,o._)("div",{class:"infoText",onClick:a[0]||(a[0]=(...e)=>(0,t.SU)(u)&&(0,t.SU)(u)(...e))},(0,v.zw)((0,t.SU)(s.Z).userName.value),1)]),(0,o._)("div",te,[(0,o._)("img",{src:(0,t.SU)(l)},null,8,se)])]))}};const ue=(0,r.Z)(ne,[["__scopeId","data-v-6fa535f3"]]);var ce=ue;const ie=e=>((0,o.dD)("data-v-ea48f566"),e=e(),(0,o.Cn)(),e),re={class:"winPageWarp"},de={class:"winCardWarp"},ge={class:"card0"},ve=["src"],fe=ie((()=>(0,o._)("div",null,"青铜哦，再接再厉！",-1))),pe={class:"card0"},me=["src"],Ze=ie((()=>(0,o._)("div",null,"太棒啦，白银能手！",-1))),he={class:"card0"},Se=["src"],_e=ie((()=>(0,o._)("div",null,"OMG！已经是黄金啦！",-1))),ye={class:"backToMain"},qe={class:"toMainBtn"};var ke={__name:"winnerPage",props:{logo:{}},setup(e){const a=e,{logo:l}=(0,t.BK)(a);let n=(0,t.iH)("");1==s.Z.group.value?(console.log("设置winpage 涂色框的颜色"),n.value="#00d599"):2==s.Z.group.value&&(console.log("设置winpage 涂色框的颜色"),n.value="#ffc500");let u=(0,t.iH)(null),c=(0,t.iH)(null),i=(0,t.iH)(null);(0,o.bv)((()=>{console.log("winner page mounted"),s.Z.groupLevel.value>=1&&(u.value.style.display="flex"),s.Z.groupLevel.value>=2&&(c.value.style.display="flex"),s.Z.groupLevel.value>=4&&(i.value.style.display="flex")})),(0,o.YP)(s.Z.groupLevel,(e=>{1==e?u.value.style.display="flex":2==e||3==e?(u.value.style.display="flex",c.value.style.display="flex"):4!=e&&5!=e||(u.value.style.display="flex",c.value.style.display="flex",i.value.style.display="flex")}));let r=()=>{document.querySelector(".popupWinerPage").style.display="none"};return(e,a)=>((0,o.wg)(),(0,o.iD)("div",re,[(0,o.Wm)(ce,{logo:(0,t.SU)(l),clickable:!1},null,8,["logo"]),(0,o._)("section",de,[(0,o._)("div",ge,[(0,o._)("div",{ref_key:"card1",ref:u,class:"card1"},[(0,o._)("img",{class:"userimg",src:(0,t.SU)(s.Z).userImg},null,8,ve),fe],512)]),(0,o._)("div",pe,[(0,o._)("div",{ref_key:"card2",ref:c,class:"card2"},[(0,o._)("img",{class:"userimg",src:(0,t.SU)(s.Z).userImg},null,8,me),Ze],512)]),(0,o._)("div",he,[(0,o._)("div",{ref_key:"card3",ref:i,class:"card3"},[(0,o._)("img",{class:"userimg",src:(0,t.SU)(s.Z).userImg},null,8,Se),_e],512)])]),(0,o._)("div",ye,[(0,o._)("div",qe,[(0,o._)("div",{class:"btnColor",style:(0,v.j5)({backgroundColor:(0,t.SU)(n)}),onClick:a[0]||(a[0]=(...e)=>(0,t.SU)(r)&&(0,t.SU)(r)(...e))},"填色",4)])]),(0,o.Wm)(S.Z)]))}};const we=(0,r.Z)(ke,[["__scopeId","data-v-ea48f566"]]);var Ce=we;const Ue={class:"popupWinerPage"};var be={__name:"topUserInfo",props:{logo:{}},setup(e){const a=e,{logo:l}=(0,t.BK)(a);return(e,a)=>((0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(ce,{logo:(0,t.SU)(l),clickable:!0},null,8,["logo"]),(0,o._)("div",Ue,[(0,o.Wm)(Ce,{logo:(0,t.SU)(l)},null,8,["logo"])])],64))}};const Xe=(0,r.Z)(be,[["__scopeId","data-v-e714d162"]]);var xe=Xe;const Te={class:"gameView"},We={class:"game fade-in"};var Ye={__name:"gameView",setup(e){let a=(0,t.iH)(0),u=(0,t.iH)(!1),c=e=>{a.value=e,console.log("change mode to ",a.value)},i=e=>{u.value=e},r=(0,t.iH)(null);return console.log("在gameView时的group",s.Z.group.value),0==s.Z.group.value?(console.log("到game主页面，但是没选择group"),n.Z.replace("/loading")):1==s.Z.group.value?r.value=l(463):2==s.Z.group.value&&(r.value=l(7816)),(0,o.bv)((()=>{console.log("gameView onMounted")})),(e,l)=>((0,o.wg)(),(0,o.iD)("div",Te,[(0,o._)("div",We,[(0,o.Wm)(xe,{logo:(0,t.SU)(r)},null,8,["logo"]),(0,o.Wm)(g,{mode:(0,t.SU)(a),refresh:(0,t.SU)(u),onChangeMode:(0,t.SU)(c),onChangeRefresh:(0,t.SU)(i)},null,8,["mode","refresh","onChangeMode","onChangeRefresh"]),(0,o.Wm)(Q,{mode:(0,t.SU)(a),refresh:(0,t.SU)(u),onChangeMode:(0,t.SU)(c),onChangeRefresh:(0,t.SU)(i)},null,8,["mode","refresh","onChangeMode","onChangeRefresh"]),(0,o.Wm)(S.Z)])]))}};const Be=(0,r.Z)(Ye,[["__scopeId","data-v-7880d54b"]]);var De=Be}}]);
//# sourceMappingURL=559.b7ad59c2.js.map