{"version":3,"file":"js/242.8ad8e4b5.js","mappings":"8OAGA,GACEA,YAGEC,EAAAA,EAAAA,IACQ,eACLC,MAAMC,IACL,GAA2B,GAAvBA,EAAIC,KAAKA,KAAKC,MAChBC,QAAQC,IAAI,SACZC,EAAAA,EAAAA,OAAAA,MAAoB,OACf,GAA2B,GAAvBL,EAAIC,KAAKA,KAAKC,MAAgB,CACvCC,QAAQC,IAAI,UACZ,IAAIE,EAAWN,EAAIC,KAAKA,KAAKM,gBAEzBD,EAAW,QAEbA,EAAWE,KAAKC,KAAKH,EAAW,MAElC,IAAII,EAAW,IACf,GAAwB,GAApBL,EAAAA,EAAAA,MAAAA,MAAuB,CAEzB,IAAIM,EAAUC,KAAKC,MAEfF,EAAU,WAAiBA,EAAU,aACvCD,EAAW,IAEd,CACD,IAAII,EAAWR,EAAWI,EACtBK,EAAUP,KAAKQ,MAAMJ,KAAKC,MAAQ,KACtCV,QAAQC,IAAI,MAAOU,GAEnB,IAAIG,EAAMH,EAAWC,EAAU,EAAI,EAAID,EAAWC,GAC9CE,GAAOP,GAEAO,EAAMP,EAAW,KAD1BO,EAAMP,EAAW,GAInBL,EAAAA,EAAAA,OAAAA,MAAoBY,EACpBZ,EAAAA,EAAAA,UACD,KAEFa,OAAOC,IACNhB,QAAQC,IAAIe,EAAZ,GAEL,G,geC2BG,KAAEC,EAAF,QAAOC,IAAYC,EAAAA,EAAAA,IAAOC,GAKhC,IAAIC,GAAcC,EAAAA,EAAAA,IAAS,CACzBC,OAAO,EACPC,OAAQ,IAGNC,EAAuD,gBAEvDC,GAAeC,EAAAA,EAAAA,IAAI,iBAEnBC,GAAeD,EAAAA,EAAAA,IAAI,IACvBC,EAAaC,MAAS,GAAEJ,aAAqBvB,EAAAA,EAAAA,MAAAA,YAI7C4B,EAAAA,EAAAA,iBAEA,IAAIC,EAAcD,EAAAA,EAAAA,YAClBA,EAAAA,EAAAA,kBAEA,IAAIE,EAAcF,EAAAA,EAAAA,YAClBA,EAAAA,EAAAA,kBAEA,IAAIG,EAAgBH,EAAAA,EAAAA,cACpBA,EAAAA,EAAAA,oBAIA,IA4BII,EACAC,EA7BAC,GAAKT,EAAAA,EAAAA,IAAI,MACTU,GAAQV,EAAAA,EAAAA,IAAI,MAEZW,GAAQX,EAAAA,EAAAA,IAAI,MAgBZY,EAAa,CACfC,WAAY,UACZC,UAAU,EACVC,OAAQ,UACRC,YAAa,GAOXC,EAAMC,IAERX,EAAgBW,EAAMC,OAAOC,OAAOC,MAAMC,EAC1Cd,EAAgBU,EAAMC,OAAOC,OAAOC,MAAME,CAA1C,EAGEC,GAAkB7B,EAAAA,EAAAA,IAAS,CAC7B8B,MAAO,EACPC,SAAU,EACVC,SAAU,EACVC,SAAU,EACVC,SAAS,EACTC,YAAY,IAGVC,EAAc,CAACC,EAAEC,IACZvD,KAAKwD,MAAMF,EAAEV,EAAIW,EAAEX,EAAGU,EAAET,EAAIU,EAAEV,GAEnCY,EAAY,CAACH,EAAEC,KACV,CAAEX,GAAIU,EAAEV,EAAIW,EAAEX,GAAK,EAAGC,GAAIS,EAAET,EAAIU,EAAEV,GAAK,IAY5Ca,EAAclB,IAEhB,QAAiBmB,GAAbnB,EAAMoB,KAEoB,GAAxBpB,EAAMqB,QAAQC,OAAa,CAC7B,IAAIR,EAAI,CACNV,EAAGJ,EAAMqB,QAAQ,GAAGE,QACpBlB,EAAGL,EAAMqB,QAAQ,GAAGG,SAElBT,EAAI,CACNX,EAAGJ,EAAMqB,QAAQ,GAAGE,QACpBlB,EAAGL,EAAMqB,QAAQ,GAAGG,SAElBC,EAAWZ,EAAYC,EAAGC,GAC9BT,EAAgBM,YAAca,EAG9B,IAAIC,EAAST,EAAUH,EAAGC,GAEtBY,EAASC,SAASC,cAAc,oBAAoBC,wBAAwB1B,EAC5E2B,EAASH,SAASC,cAAc,oBAAoBC,wBAAwBzB,EAEhFC,EAAgBE,SAAWkB,EAAOtB,EAAIuB,EACtCrB,EAAgBG,SAAWiB,EAAOrB,EAAI0B,EACtCzB,EAAgBI,UAAYJ,EAAgBE,SAAWnB,GAAgBiB,EAAgBC,MAAQtB,EAAAA,EAAAA,YAC/FqB,EAAgBK,UAAYL,EAAgBG,SAAWnB,GAAgBgB,EAAgBC,MAAQtB,EAAAA,EAAAA,WAGhG,CACF,EAGC+C,EAAYhC,SAGGmB,GAAbnB,EAAMoB,MACRd,EAAgBM,YAAc,EAI/B,EAGCqB,EAAajC,IACf,QAAiBmB,GAAbnB,EAAMoB,IAAkB,CAI1B,GAAmC,GAA/Bd,EAAgBM,aAEiB,GAA/BZ,EAAMkC,eAAeZ,OAAa,CAGpC,IAAIR,EAAI,CACNV,EAAGJ,EAAMkC,eAAe,GAAGX,QAC3BlB,EAAGL,EAAMkC,eAAe,GAAGV,SAEzBT,EAAI,CACNX,EAAGJ,EAAMkC,eAAe,GAAGX,QAC3BlB,EAAGL,EAAMkC,eAAe,GAAGV,SAEzBW,EAActB,EAAYC,EAAGC,GAE7BqB,EAAc,IAAOnD,EAAAA,EAAAA,WAAkB,GACvCoD,EAAQF,EAAc7B,EAAgBM,YAAcwB,EACpDC,EAAQ,IAAMD,EAChBC,EAAQ,IAAMD,EACLC,EAAQ,GAAMD,IACvBC,EAAQ,GAAMD,GAGZC,EAAQ,EAAED,EACZ9B,EAAgBC,MAAQD,EAAgBC,MAAQ8B,EAAQ,EAAI,EAAI/B,EAAgBC,MAAQ8B,EAC/EA,EAAQ,EAAED,IACnB9B,EAAgBC,MAAQD,EAAgBC,MAAQ8B,EAAQ,EAAI,EAAI/B,EAAgBC,MAAQ8B,GAGtF/B,EAAgBC,MAAQ,IAC1BD,EAAgBC,MAAQ,GAEtBD,EAAgBC,MAAQ,EAAEtB,EAAAA,EAAAA,WAAkB,KAC9CqB,EAAgBC,MAAQ,EAAEtB,EAAAA,EAAAA,WAAkB,IAQjB,GAAzBqB,EAAgBC,OAElBtB,EAAAA,EAAAA,YAAAA,OAA4BA,EAAAA,EAAAA,YAC5BA,EAAAA,EAAAA,YAAAA,OAA4BA,EAAAA,EAAAA,YAC5BA,EAAAA,EAAAA,YAAAA,EAAuBA,EAAAA,EAAAA,QACvBA,EAAAA,EAAAA,YAAAA,EAAuBA,EAAAA,EAAAA,QACvBA,EAAAA,EAAAA,YAAAA,WAA+B,EAC/BA,EAAAA,EAAAA,YAAAA,cAAmC,WACjC,MAAO,CACLmB,EAAGnB,EAAAA,EAAAA,QACHoB,EAAGpB,EAAAA,EAAAA,QAEN,GACQqB,EAAgBC,MAAQ,IAEjCtB,EAAAA,EAAAA,YAAAA,WAA+B,EAC/BA,EAAAA,EAAAA,YAAAA,OAA4BqB,EAAgBC,MAAQtB,EAAAA,EAAAA,YACpDA,EAAAA,EAAAA,YAAAA,OAA4BqB,EAAgBC,MAAQtB,EAAAA,EAAAA,YACpDA,EAAAA,EAAAA,YAAAA,EAAuBqB,EAAgBE,SAAWF,EAAgBI,SAAWJ,EAAgBC,MAAQtB,EAAAA,EAAAA,YACrGA,EAAAA,EAAAA,YAAAA,EAAuBqB,EAAgBG,SAAWH,EAAgBK,SAAWL,EAAgBC,MAAQtB,EAAAA,EAAAA,aAIvGqB,EAAgBM,YAAcuB,CAC/B,CAEgC,GAA/BnC,EAAMkC,eAAeZ,SAEM,GAAzBhB,EAAgBC,OAClBtB,EAAAA,EAAAA,YAAAA,WAA+B,EAC/BA,EAAAA,EAAAA,YAAAA,cAAmC,WACjC,MAAO,CACLmB,EAAGnB,EAAAA,EAAAA,QACHoB,EAAGpB,EAAAA,EAAAA,QAEN,GACQqB,EAAgBC,MAAQ,IACjCtB,EAAAA,EAAAA,YAAAA,WAA+B,EAC/BA,EAAAA,EAAAA,YAAAA,cAAmC,SAAUqD,GAC3C,IAAIC,EAAOD,EAAIjC,EAEbkC,EADED,EAAIjC,EAAuB,GAAnBpB,EAAAA,EAAAA,YACgB,GAAnBA,EAAAA,EAAAA,YACEqD,EAAIjC,EAAIpB,EAAAA,EAAAA,YAAoBA,EAAAA,EAAAA,YAAmBA,EAAAA,EAAAA,YAAAA,OAA+C,GAAnBA,EAAAA,EAAAA,YAC7EA,EAAAA,EAAAA,YAAoBA,EAAAA,EAAAA,YAAmBA,EAAAA,EAAAA,YAAAA,OAA+C,GAAnBA,EAAAA,EAAAA,YAEnEqD,EAAIjC,EAEb,IAAImC,EAAOF,EAAIlC,EAQf,OANEoC,EADEF,EAAIlC,EAAsB,GAAlBnB,EAAAA,EAAAA,WACiB,GAApBA,EAAAA,EAAAA,WACEqD,EAAIlC,EAAKnB,EAAAA,EAAAA,WAAmBA,EAAAA,EAAAA,WAAkBA,EAAAA,EAAAA,YAAAA,OAA8C,GAAlBA,EAAAA,EAAAA,WAC3EA,EAAAA,EAAAA,WAAmBA,EAAAA,EAAAA,WAAkBA,EAAAA,EAAAA,YAAAA,OAA8C,GAAlBA,EAAAA,EAAAA,WAElEqD,EAAIlC,EAEN,CACLA,EAAGoC,EACHnC,EAAGkC,EAEN,GAGN,GAOCE,EAAW,KAKbtF,QAAQC,IAAI,uBACZ,IAAK,IAAIsF,EAAI,EAAGA,EAAIzD,EAAAA,EAAAA,WAAmByD,IACrC,IAAK,IAAIC,EAAI,EAAGA,EAAI1D,EAAAA,EAAAA,WAAmB0D,IAErC1D,EAAAA,EAAAA,cAAqByD,EAAIzD,EAAAA,EAAAA,WAAoB0D,GAAGC,KAAO3D,EAAAA,EAAAA,YAAmByD,EAAEC,GAE5E1D,EAAAA,EAAAA,cAAqByD,EAAIzD,EAAAA,EAAAA,WAAoB0D,GAAGE,OAAS5D,EAAAA,EAAAA,UAAiByD,EAAGC,IAI1C,GAAnC1D,EAAAA,EAAAA,eAAAA,MAAAA,KAA2E,GAAnCA,EAAAA,EAAAA,eAAAA,MAAAA,MACL,GAAjCA,EAAAA,EAAAA,aAAAA,MAAAA,KAAuE,GAAjCA,EAAAA,EAAAA,aAAAA,MAAAA,KAExCA,EAAAA,EAAAA,cACEA,EAAAA,EAAAA,aAAAA,MAAAA,GAA+BA,EAAAA,EAAAA,WAC7BA,EAAAA,EAAAA,aAAAA,MAAAA,IACFY,OAAS,sBAEbZ,EAAAA,EAAAA,cACEA,EAAAA,EAAAA,eAAAA,MAAAA,GAAiCA,EAAAA,EAAAA,WAC/BA,EAAAA,EAAAA,eAAAA,MAAAA,IACFY,OAAS,QAGXL,EAAMR,MAAM8D,WACXC,KAAM,UAAS9D,EAAAA,EAAAA,eAAAA,MAAAA,GAAiCA,EAAAA,EAAAA,WAAoBA,EAAAA,EAAAA,eAAAA,MAAAA,MAAkC,GACtG+D,YACF,EAICC,EAAa,KAEfnG,EAAAA,EAAAA,IACQ,WACLC,MAAMC,IAoBL,GAlBAiC,EAAAA,EAAAA,YAAAA,MAA2BjC,EAAIC,KAAKA,KAAKgC,OAErCA,EAAAA,EAAAA,YAAAA,MAAAA,QAAmCA,EAAAA,EAAAA,aACrCiE,EAAAA,EAAAA,QAAe,YACfC,SAASC,QAAO,IAGlBnE,EAAAA,EAAAA,aAAAA,MAA4BA,EAAAA,EAAAA,eAAAA,MAC5BA,EAAAA,EAAAA,UAAAA,MAAyBjC,EAAIC,KAAKA,KAAKoG,WAAWC,QAClDrE,EAAAA,EAAAA,UAAAA,MAAyBjC,EAAIC,KAAKA,KAAKoG,WAAWE,QAElB,MAA5BvG,EAAIC,KAAKA,KAAKuG,WAChBvE,EAAAA,EAAAA,eAAAA,MAA8B,EAAE,GAAI,GAEpCA,EAAAA,EAAAA,eAAAA,MAA8BjC,EAAIC,KAAKA,KAAKuG,WAAWC,eAIzB,MAA5BzG,EAAIC,KAAKA,KAAKuG,WAAoB,CAGpC,GAAIvE,EAAAA,EAAAA,cAAAA,OAA8BjC,EAAIC,KAAKA,KAAKuG,WAAWE,MACrDzE,EAAAA,EAAAA,cAAAA,OAA8BjC,EAAIC,KAAKA,KAAKuG,WAAWG,SAAU,CACnE,IACIrG,EADAS,EAAUP,KAAKQ,MAAOJ,KAAKC,MAAM,KAInCP,EADEN,EAAIC,KAAKA,KAAKuG,WAAWE,KAAO,MACvBlG,KAAKC,KAAKT,EAAIC,KAAKA,KAAKuG,WAAWE,KAAO,KAE1C1G,EAAIC,KAAKA,KAAKuG,WAAWE,KAGtCzE,EAAAA,EAAAA,aAAAA,MAA4BzB,KAAKQ,OAAOD,EAAUT,GAAU,IAC5DH,QAAQC,IAAI,4BAA4B6B,EAAAA,EAAAA,aAAAA,MACzC,CAGHA,EAAAA,EAAAA,cAAAA,MAA6BjC,EAAIC,KAAKA,KAAKuG,WAAWE,KACtDzE,EAAAA,EAAAA,cAAAA,MAA6BjC,EAAIC,KAAKA,KAAKuG,WAAWG,SACtD1E,EAAAA,EAAAA,eAAAA,MAA8BjC,EAAIC,KAAKA,KAAKuG,WAAWI,KAExD,MACC3E,EAAAA,EAAAA,cAAAA,MAA6B,EAM/BwD,GAAY,IAGbvE,OAAOlB,IACNG,QAAQC,IAAI,gBAAgBJ,EAA5B,GAxDJ,EA6DF6G,YAAYZ,EAAc,MAG1Ba,EAAAA,EAAAA,IAAMzF,GAAU0F,IACA,GAAVA,IACFd,IAEAvD,EAAWE,UAAY,EACvBF,EAAWC,WAAa,UACxBqE,EAAK,iBAAiB,GACvB,IAYH,IAAIC,EAAgB,KACA,GAAd7F,EAAKY,OACPgF,EAAK,aAAc,EACpB,GAIHF,EAAAA,EAAAA,IAAM1F,GAAM,CAAC2F,EAAOG,KAClB,GAAc,GAAVH,EACF,IAAK,IAAIrB,EAAI,EAAGA,EAAIzD,EAAAA,EAAAA,WAAmByD,IACrC,IAAK,IAAIC,EAAI,EAAGA,EAAI1D,EAAAA,EAAAA,WAAmB0D,IACyB,GAA1D1D,EAAAA,EAAAA,cAAqByD,EAAIzD,EAAAA,EAAAA,WAAoB0D,GAAGE,OAElD5D,EAAAA,EAAAA,cAAqByD,EAAEzD,EAAAA,EAAAA,WAAkB0D,GAAG7C,YAAc,EACS,GAA1Db,EAAAA,EAAAA,cAAqByD,EAAIzD,EAAAA,EAAAA,WAAoB0D,GAAGE,QAEvDrD,EAAMR,MAAM8D,WACXC,KAAM,UAASL,EAAIzD,EAAAA,EAAAA,WAAoB0D,KAAK,GAC5CwB,oBAUJ,GAAc,GAAVJ,EAET,IAAK,IAAIrB,EAAI,EAAGA,EAAIzD,EAAAA,EAAAA,WAAmByD,IACrC,IAAK,IAAIC,EAAI,EAAGA,EAAI1D,EAAAA,EAAAA,WAAmB0D,IACyB,GAA1D1D,EAAAA,EAAAA,cAAqByD,EAAIzD,EAAAA,EAAAA,WAAoB0D,GAAGE,SAClD5D,EAAAA,EAAAA,cAAqByD,EAAEzD,EAAAA,EAAAA,WAAkB0D,GAAG7C,YAAc,GAMlE,GAAc,GAAViE,GAAyB,GAAVG,EAAa,CAE9B,IAAIjE,EAAST,EAAMR,MAAM8D,WAAWC,KAAM,IAAGrD,EAAWC,cAAc,GACtEM,EAAOE,MAAML,YAAcJ,EAAWI,YACtCG,EAAOE,MAAMN,OAASH,EAAWG,OAI/BI,EAAOkE,cAEV,KAMH,IAuFIC,EACAC,EAxFAC,EAAa,SAAUtE,GAEzB,GAAkB,GAAd5B,EAAKY,OAA4B,GAAdZ,EAAKY,OAC1B,GAAI3B,EAAAA,EAAAA,MAAAA,OAAoB2C,EAAMC,OAAOE,MAAM0C,QAAuC,GAA7B7C,EAAMC,OAAOE,MAAM0C,OAAa,CAGnF,IAAI0B,EAAOvE,EAAMC,OAAOE,MAAMoE,KAC1BC,EAAKD,EAAKE,MAAM,GACpBtH,QAAQC,IAAI,cAAeoH,GAC3B,IAAI9B,EAAIlF,KAAKQ,MAAMwG,EAAKvF,EAAAA,EAAAA,YACpB0D,EAAI6B,EAAKvF,EAAAA,EAAAA,WACTyF,EAAe,GACnBA,EAAaC,KAAKjC,GAClBgC,EAAaC,KAAKhC,GAClBxF,QAAQC,IAAIsH,GAEZzF,EAAAA,EAAAA,aAAAA,MAA4ByF,EAE5BT,IACA,IAAIW,EAAQpF,EAAMR,MAAM8D,WAGxB,IAA4B,GAAxBpD,EAAWE,SAAgB,CAC7BzC,QAAQC,IAAI,SACZ,IAAIyH,EAAaD,EAAM7B,KAAM,IAAGrD,EAAWC,cAAc,GACzDxC,QAAQC,IAAI,mBAAoByH,EAAW1E,OAC3ChD,QAAQC,IAAI,yBACZyH,EAAW1E,MAAML,YAAcJ,EAAWI,YAC1C+E,EAAW1E,MAAMN,OAASH,EAAWG,OACN,SAA3BgF,EAAW1E,MAAMN,QACnBgF,EAAWV,eAGb,IAAIW,EAAQC,OAAOrF,EAAWE,UAAYmF,OAAO9F,EAAAA,EAAAA,YAC7C6F,EAAQ7F,EAAAA,EAAAA,WAAoBA,EAAAA,EAAAA,YAAsE,GAAjD2F,EAAM7B,KAAM,UAAS+B,KAAS,GAAG3E,MAAM0C,QAC1F+B,EAAM7B,KAAM,UAAS+B,KAAS,GAAGX,eAEnC,IAAIa,EAAQD,OAAOrF,EAAWE,UAAYmF,OAAO9F,EAAAA,EAAAA,YAC7C+F,GAAS,GAAsD,GAAjDJ,EAAM7B,KAAM,UAASiC,KAAS,GAAG7E,MAAM0C,QACvD+B,EAAM7B,KAAM,UAASiC,KAAS,GAAGb,eAEnC,IAAIc,EAAOF,OAAOrF,EAAWE,UAAY,EACrCqF,GAAQ,GAAqD,GAAhDL,EAAM7B,KAAM,UAASkC,KAAQ,GAAG9E,MAAM0C,QACrD+B,EAAM7B,KAAM,UAASkC,KAAQ,GAAGd,eAElC,IAAIe,EAAQH,OAAOrF,EAAWE,UAAY,EACtCsF,EAAQjG,EAAAA,EAAAA,WAAoBA,EAAAA,EAAAA,YAAsE,GAAjD2F,EAAM7B,KAAM,UAASmC,KAAS,GAAG/E,MAAM0C,QAC1F+B,EAAM7B,KAAM,UAASmC,KAAS,GAAGf,cAGpC,MACChH,QAAQC,IAAI,QAKd,IAAI6C,EAAS2E,EAAM7B,KAAM,IAAGwB,KAAQ,GACpC7E,EAAWC,WAAaM,EAAOE,MAAMoE,KACrC7E,EAAWE,SAAW4E,EAEtB9E,EAAWG,OAASI,EAAOE,MAAMN,OACjCH,EAAWI,YAAcG,EAAOE,MAAML,YACtC3C,QAAQC,IAAI,cAAesC,EAAWG,QAGtCI,EAAO+C,YACP/C,EAAOE,MAAML,YAAc,EAC3BG,EAAOE,MAAMN,OAAS,SAEvB,OACsB,GAAdzB,EAAKY,OAAcgB,EAAMoB,IAAIc,eAAeZ,QAAU,GAAuC,GAAlCtB,EAAMoB,IAAI+D,cAAc7D,OACjE,GAArBjE,EAAAA,EAAAA,OAAAA,OACF2G,EAAK,aAAc,GAEA,GAAd5F,EAAKY,OACd7B,QAAQC,IAAI,aAGf,EAIGgI,EAAgBnG,EAAAA,EAAAA,cAAAA,MAChBoG,EAAgBpG,EAAAA,EAAAA,cAAAA,MAMpB,GALIoG,EAAc/D,OAAS,IACzB+D,EAAgBA,EAAcZ,MAAM,EAAG,GAAG,OAIvB,GAAjBW,EACFf,EAAoB,QACf,GAAIe,EAAgB,EAAG,CACxBA,EAAgB,QAClBA,EAAgB5H,KAAKC,KAAK2H,EAAgB,MAE5C,IAAIrH,EAAUP,KAAKQ,MAAMJ,KAAKC,MAAQ,KACtCuG,EAAe5G,KAAKQ,OAAOD,EAAUqH,GAAiB,IAClDhB,EAAe,IACjBA,EAAe,GAEjB,IAAIkB,EAAgB,EAChBlB,GAAgB,IAClBkB,EAAgB9H,KAAKQ,MAAMoG,EAAe,IAC1CA,GAA8B,GAExBC,EADFiB,EAAgB,IACM,QAAOD,OAEX,GAAEC,MAAkBlB,QAAmBiB,QAK3DhB,EADkB,GAAhBD,EACkB,MAAKiB,OAEL,GAAEjB,QAAmBiB,MAK9C,CACD,IAAIE,GAAgBzG,EAAAA,EAAAA,IAAIuF,IAGxBmB,EAAAA,EAAAA,KAAU,MAM+B,GAAnCvG,EAAAA,EAAAA,eAAAA,MAAAA,KAA2E,GAAnCA,EAAAA,EAAAA,eAAAA,MAAAA,IAC1CO,EAAMR,MAAM8D,WACTC,KAAM,UAAS9D,EAAAA,EAAAA,eAAAA,MAAAA,GAAiCA,EAAAA,EAAAA,WAAoBA,EAAAA,EAAAA,eAAAA,MAAAA,MAAkC,GACtG+D,YAKL,IAAIyC,EAAe7D,SAASC,cAAc,iBAC1C1E,QAAQC,IAAI,yCAAyC6B,EAAAA,EAAAA,eAAAA,OAClB,GAA/BA,EAAAA,EAAAA,eAAAA,MACFwG,EAAaC,MAAMC,gBAAkB,UACG,GAA/B1G,EAAAA,EAAAA,eAAAA,QACTwG,EAAaC,MAAMC,gBAAkB,WAQnCP,EAAgB,IAClBxD,SAASC,cAAc,iBAAiB+D,UAAY,uBACrD,KAQH9B,EAAAA,EAAAA,IAAM7E,EAAAA,EAAAA,eAAuB8E,IAC3B,GAAIA,EAAS,EAAG,CACdsB,EAAgBpG,EAAAA,EAAAA,cAAAA,MACZoG,EAAc/D,OAAS,IACzB+D,EAAgBA,EAAcZ,MAAM,EAAG,GAAK,OAE9CW,EAAgBnG,EAAAA,EAAAA,cAAAA,MACZmG,EAAgB,QAClBA,EAAgB5H,KAAKC,KAAK2H,EAAgB,MAE5C,IAAIrH,EAAUP,KAAKQ,MAAMJ,KAAKC,MAAQ,KACtCuG,EAAe5G,KAAKQ,OAAOD,EAAUqH,GAAiB,IAClDhB,EAAe,IACjBA,EAAe,GAKjBxC,SAASC,cAAc,iBAAiB+D,WAAa,YACrDC,YAAW,KAET,IAAIJ,EAAe7D,SAASC,cAAc,iBAC1C1E,QAAQC,IAAI,yCAAyC6B,EAAAA,EAAAA,eAAAA,OAClB,GAA/BA,EAAAA,EAAAA,eAAAA,MACFwG,EAAaC,MAAMC,gBAAkB,UACG,GAA/B1G,EAAAA,EAAAA,eAAAA,QACTwG,EAAaC,MAAMC,gBAAkB,WAGvC,IAAIL,EAAgB,EAChBlB,GAAgB,IAClBkB,EAAgB9H,KAAKQ,MAAMoG,EAAe,IAC1CA,GAA8B,GAE5BC,EADEiB,EAAgB,IACE,QAAOD,OAEP,GAAhBjB,EACkB,GAAEkB,QAAoBD,OAEtB,GAAEC,MAAkBlB,QAAmBiB,QAQ7DhB,EADkB,GAAhBD,EACkB,MAAKiB,OAEL,GAAEjB,QAAmBiB,OAI7CE,EAAcvG,MAAQqF,EACtBzC,SAASC,cAAc,iBAAiB+D,UAAY,sBAApD,GACC,IAEJ,MAAoB,GAAV7B,IACTM,EAAoB,GACpBkB,EAAcvG,MAAQqF,EACtBzC,SAASC,cAAc,iBAAiB+D,UAAY,wBACrD,KAGH9B,EAAAA,EAAAA,IAAM7E,EAAAA,EAAAA,cAAsB8E,IAE1B,IAAIuB,EAAgB,EAChBvB,GAAU,IACZuB,EAAgB9H,KAAKQ,MAAM+F,EAAS,IACpCA,GAAkB,GAEhBM,EADEiB,EAAgB,IACE,QAAOD,OAEb,GAAVtB,EACkB,GAAEuB,QAAoBD,OAEtB,GAAEC,MAAkBvB,QAAasB,QAMvDhB,EADY,GAAVN,EACkB,MAAKsB,OAEL,GAAEtB,QAAasB,OAGvCE,EAAcvG,MAAQqF,EAEtB,IAAIoB,EAAe7D,SAASC,cAAc,iBAC1C1E,QAAQC,IAAI,yCAAyC6B,EAAAA,EAAAA,eAAAA,OAClB,GAA/BA,EAAAA,EAAAA,eAAAA,MACFwG,EAAaC,MAAMC,gBAAkB,UACG,GAA/B1G,EAAAA,EAAAA,eAAAA,QACTwG,EAAaC,MAAMC,gBAAkB,UACtC,IAGH,IAYIG,EAZAC,GAAgBjH,EAAAA,EAAAA,KAAI,GAEpBkH,EAAe,KACjBD,EAAc/G,OAAQ,CAAtB,EAKEiH,EAAe,KACjBF,EAAc/G,OAAQ,CAAtB,EAKEkH,GAAWpH,EAAAA,EAAAA,KAAI,GAEfqH,GAAW,KACbL,EAAaD,YAAW,KAEtB/I,EAAAA,EAAAA,IAAW,iBAAgBC,MAAK,KAC9BI,QAAQC,IAAI,oBACZ8I,EAASlH,OAAQ,CAAjB,IACCd,OAAOlB,IACRG,QAAQC,IAAIJ,EAAZ,GAJF,GAMC,IARH,GAWF8G,EAAAA,EAAAA,IAAMoC,GAAUnC,IACD,GAAVA,IAEDjH,EAAAA,EAAAA,IAAW,eAAcC,MAAMC,IAC7BG,QAAQC,IAAIJ,GAEZoJ,EAAOvJ,WAAP,IAECqB,OAAOlB,IACRG,QAAQC,IAAIJ,EAAZ,IAEFkJ,GAAW,EACZ,IAGH,IAAIG,GAAW,KACbC,aAAaR,EAAb,EAIES,IAASzH,EAAAA,EAAAA,KAAI,GAGbyH,GAAOvH,OAAQ,EAWnB,IAAIwH,GAAU,KACZD,GAAOvH,OAAQ,CAAf,E,qhDChzBF,MAAMyH,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,Q,4yCCsEA,IAAI,QAAEC,IAAYpI,EAAAA,EAAAA,IAAOC,GAOrBoI,GAAc7H,EAAAA,EAAAA,KAAI,GAElB8H,EAAc,KAChBD,EAAY3H,OAAQ,EACpB6G,YAAW,KACTc,EAAY3H,OAAQ,CAApB,GACC,GAFH,GAiDF8E,EAAAA,EAAAA,IAAM4C,GAAU3C,IACd,GAAc,GAAVA,EAAgB,CAKlB,IAAI8C,EAAQjF,SAASC,cAAc,mBACnCgF,EAAMnB,MAAMoB,QAAU,OAEtB9C,EAAK,iBAAiB,EACvB,KAeH,IAAI+C,EAAO,WACPC,EAASpJ,KAAKC,MAClBV,QAAQC,IAAI,OAAQ2J,GACpB5J,QAAQC,IAAI,SAAU4J,GACtB,IAAIC,GAAanI,EAAAA,EAAAA,IAAI,I,OACoB,GAArCG,EAAAA,EAAAA,qBAAAA,OAAkF,GAArCA,EAAAA,EAAAA,qBAAAA,MAC/CgI,EAAWjI,MAAQ,8BAC2B,GAArCC,EAAAA,EAAAA,qBAAAA,MACTgI,EAAWjI,MAAQ,cAC2B,GAArCC,EAAAA,EAAAA,qBAAAA,MACTgI,EAAWjI,MAAQ,cAGjBiI,EAAWjI,MADTgI,EAASD,EACQ,uBAEA,IAIvBjD,EAAAA,EAAAA,IAAM7E,EAAAA,EAAAA,sBAA8B8E,IACpB,GAAVA,IACuC,GAArC9E,EAAAA,EAAAA,qBAAAA,MACFgI,EAAWjI,MAAQ,8BAEnBiI,EAAWjI,MAAQ,cAEtB,KAGH8E,EAAAA,EAAAA,IAAM7E,EAAAA,EAAAA,sBAA8B8E,IACpB,GAAVA,IACuC,GAArC9E,EAAAA,EAAAA,qBAAAA,MACFgI,EAAWjI,MAAQ,8BAEnBiI,EAAWjI,MAAQ,cAEtB,I,+dCjMH,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,Q,wvJC0MA,IAEIkI,GAFA,KAAE9I,IAASE,EAAAA,EAAAA,IAAOC,GAGE,GAApBlB,EAAAA,EAAAA,MAAAA,MACF6J,EAAY,UACiB,GAApB7J,EAAAA,EAAAA,MAAAA,QACT6J,EAAY,WAGd,IAAIC,GAAmBrI,EAAAA,EAAAA,IAAI,MACvBsI,GAAoBtI,EAAAA,EAAAA,IAAI,MAMxBuI,GAAcvI,EAAAA,EAAAA,IAAI,MACtB,GAAIzB,EAAAA,EAAAA,OAAAA,OAAqB,EACvBgK,EAAYrI,MAAQ,UACf,GAAI3B,EAAAA,EAAAA,OAAAA,MAAoB,EAAG,CAC9B,IAAIiK,GAAUxI,EAAAA,EAAAA,IAAItB,KAAKQ,MAAMX,EAAAA,EAAAA,OAAAA,MAAoB,KAC7CkK,GAAUzI,EAAAA,EAAAA,IAAIzB,EAAAA,EAAAA,OAAAA,MAAoB,IAClCkK,EAAQvI,MAAQ,KAClBuI,EAAQvI,MAAS,IAAGuI,EAAQvI,SAE9BqI,EAAYrI,MAAS,GAAEsI,EAAQtI,SAASuI,EAAQvI,OACnD,EAKD8E,EAAAA,EAAAA,IAAMzG,EAAAA,EAAAA,QAAc0G,IAElB,GADA5G,QAAQC,IAAI,UACE,GAAV2G,GAAcA,EAAO,EACvBsD,EAAYrI,MAAQ,SACf,CACL,IAAIsI,GAAUxI,EAAAA,EAAAA,IAAItB,KAAKQ,MAAMX,EAAAA,EAAAA,OAAAA,MAAoB,KAC7CkK,GAAUzI,EAAAA,EAAAA,IAAIzB,EAAAA,EAAAA,OAAAA,MAAoB,IAClCkK,EAAQvI,MAAQ,KAClBuI,EAAQvI,MAAS,IAAGuI,EAAQvI,SAE9BqI,EAAYrI,MAAS,GAAEsI,EAAQtI,SAASuI,EAAQvI,OACjD,CACiB,GAAdZ,EAAKY,QACPqI,EAAYrI,MAAQ,KACrB,IAKH,IAqKIwI,EArKAC,GAAW3I,EAAAA,EAAAA,IAAI,IACf4I,EAAU,SAAUC,EAAMC,GAC5B,IAAIlE,EAAO,IACF,GAANkE,IACDlE,EAAO,KAET+D,EAASzI,MAAQ2I,EACjB,IAAIE,EAAOjG,SAASC,cAAc,cAClCgG,EAAKjC,UAAU,4BACfC,YAAW,KACTgC,EAAKjC,UAAY,4BAAjB,GACClC,EACJ,EAIGoE,EAAa,KACf,GAAkB,GAAd1J,EAAKY,MAEPgF,EAAK,aAAc,QACd,GAAkB,GAAd5F,EAAKY,MAEdlC,IAAAA,IAAW,eAAcC,MAAMC,IAC7BG,QAAQC,IAAIJ,GACe,GAAvBA,EAAIC,KAAKA,KAAKC,OAAiBG,EAAAA,EAAAA,OAAAA,OAAmB,EACpD2G,EAAK,aAAc,GAEnB0D,EAAQ,iCAAiC,EAC1C,IACAxJ,OAAOlB,IACRG,QAAQC,IAAIJ,EAAZ,SAEG,GAAkB,GAAdoB,EAAKY,MAAY,CAE1B,IAAI+I,EAAS,CACXC,SAAU/I,EAAAA,EAAAA,aAAAA,OAERgJ,EAAW,UACXC,EAGJpL,IAAAA,KAAWmL,EAASF,GAAQhL,MAAMC,IAGhC,GAFAG,QAAQC,IAAIJ,GAEqB,GAA7BA,EAAIC,KAAKA,KAAKkL,aAAiD,GAAzBnL,EAAIC,KAAKA,KAAKmL,SAWtD,GAVAV,EAAQ,SACR1D,EAAK,aAAc,GACnBA,EAAK,iBAAiB,GACtBoC,EAAOvJ,YAE+B,GAAlCG,EAAIC,KAAKA,KAAKoL,mBAChBlL,QAAQC,IAAI,WACZC,EAAAA,EAAAA,MAAAA,MAAmBL,EAAIC,KAAKA,KAAKqL,YAGI,GAAnCtL,EAAIC,KAAKA,KAAKsL,kBAA2B,CAC3CpL,QAAQC,IAAI,YACY,GAApBC,EAAAA,EAAAA,MAAAA,QACF4B,EAAAA,EAAAA,YAAAA,MAA2BjC,EAAIC,KAAKA,KAAKuL,aAEnB,GAApBnL,EAAAA,EAAAA,MAAAA,QACF4B,EAAAA,EAAAA,YAAAA,MAA2BjC,EAAIC,KAAKA,KAAKuL,aAE3CnL,EAAAA,EAAAA,WAAAA,MAAwBL,EAAIC,KAAKA,KAAKuL,YAGtC,IAAIC,EAAaC,aAAaC,QAAQ,kBACpB,MAAdF,IACFA,EAAa,GAGf,IAAIG,EAAcF,aAAaC,QAAQ,mBAKvC,GAJmB,MAAfC,IACFA,EAAc,GAGXH,EAAapL,EAAAA,EAAAA,WAAAA,MAAuB,CACvC,MAAMwL,EAAYjH,SAASC,cAAc,cACzCgH,EAAUnD,MAAMoB,QAAU,MAC3B,CASDhK,IAAAA,IAAU,iBAAiBC,MAAMC,IAC/BG,QAAQC,IAAIJ,GACZiC,EAAAA,EAAAA,qBAAAA,MAAoCjC,EAAIC,KAAKA,KAAK6L,OAAO,GAAGC,gBAC5D9J,EAAAA,EAAAA,qBAAAA,MAAoCjC,EAAIC,KAAKA,KAAK6L,OAAO,GAAGC,eAA5D,IACC7K,OAAOlB,IACRG,QAAQC,IAAIJ,EAAZ,GAIH,OAIgC,GAA7BA,EAAIC,KAAKA,KAAKkL,YAChBT,EAAQ,yBAE0B,GAAzB1K,EAAIC,KAAKA,KAAKmL,SACvBV,EAAQ,aAGV1D,EAAK,aAAc,GACnBA,EAAK,iBAAgB,EACtB,IAEA9F,OAAOlB,IACRG,QAAQC,IAAIJ,EAAZ,GAEH,MAAwB,GAAdoB,EAAKY,OACd7B,QAAQC,IAAI,QACb,GAKH0G,EAAAA,EAAAA,IAAM1F,GAAM,CAAC2F,EAAOG,KAClB,MAAM8E,EAAUpH,SAASC,cAAc,YACvC1E,QAAQC,IAAI,eAAgB2G,GACd,GAAVA,GAAsB,GAATG,GACf8E,EAAQtD,MAAMC,gBAAkBuB,EAChCG,EAAYrI,MAAQ,MACD,GAAV+E,GAAqB,GAARG,GACtB8E,EAAQtD,MAAMC,gBAAkB,qBAChC0B,EAAYrI,MAAQ,MACD,GAAV+E,EACTsD,EAAYrI,MAAQ,KACD,GAAV+E,GAAuB,GAAVG,GACtB8E,EAAQtD,MAAMC,gBAAkB,qBAChC0B,EAAYrI,MAAQ,MACD,GAAV+E,GAAyB,GAAVG,IACxBmD,EAAYrI,MAAQ,KACrB,IAyCH,IAAIiK,EAAW,KACb,IAAIpC,EAAQjF,SAASC,cAAc,cACnCgF,EAAMnB,MAAMoB,QAAU,OACtB,IAAIoC,EAAMtH,SAASC,cAAc,OAC7BsH,EAAMvH,SAASC,cAAc,OAC7BuH,EAAMxH,SAASC,cAAc,OAC7BwH,EAAKzH,SAASC,cAAc,OAChCqH,EAAGxD,MAAMoB,QAAU,OACnBqC,EAAGzD,MAAMoB,QAAU,OACnBsC,EAAG1D,MAAMoB,QAAU,OACnBuC,EAAG3D,MAAMoB,QAAU,MAAnB,EAOEJ,GAAU5H,EAAAA,EAAAA,KAAI,GACdwK,EAAiBC,IACnB7C,EAAQ1H,MAAQuK,CAAhB,EAeEC,EAAgB,KAClB,IAAI3C,EAAQjF,SAASC,cAAc,mBACnCgF,EAAMnB,MAAMoB,QAAU,MAAtB,EAGE2C,GAAW3K,EAAAA,EAAAA,IAAI,IAEf4K,GAAY5K,EAAAA,EAAAA,KAAI,GAChB6K,GAAY7K,EAAAA,EAAAA,KAAI,GAChB8K,GAAY9K,EAAAA,EAAAA,KAAI,IAGpB0G,EAAAA,EAAAA,KAAU,KAER1I,IAAAA,IAAW,SAAQC,MAAMC,IAEvBwK,EAAOxK,EAAIC,KAAKA,KAAK4M,KACrB1M,QAAQC,IAAI,OAAOoK,GACP,GAARA,EAEFkC,EAAU1K,OAAQ,EACD,GAARwI,EAETmC,EAAU3K,OAAQ,EACD,GAARwI,IAEToC,EAAU5K,OAAQ,GAIK,MAArBhC,EAAIC,KAAKA,KAAK6M,KAChBlI,SAASC,cAAc,YAAY6D,MAAMoB,QAAU,OACnDlF,SAASC,cAAc,iBAAiB6D,MAAMoB,QAAU,QAExD2C,EAAWzK,MAAQhC,EAAIC,KAAKA,KAAK6M,IAGnC,IAAIC,EAAarB,aAAaC,QAAQ,SACpB,MAAdoB,IACFA,EAAa,GAEf5M,QAAQC,IAAI,aAAc2M,GAC1B,MAAMC,EAAYpI,SAASC,cAAc,cAEvCmI,EAAUtE,MAAMoB,QADdiD,EAAavC,EACW,OAEA,MAC3B,IACAtJ,OAAOlB,IACRG,QAAQC,IAAIJ,EAAZ,IAIF,IAAIyL,EAAaC,aAAaC,QAAQ,kBACpB,MAAdF,IACFA,EAAa,GAEftL,QAAQC,IAAI,aAAcqL,GAC1BtL,QAAQC,IAAI,wBAAyBC,EAAAA,EAAAA,WAAAA,OACrC,MAAMwL,EAAYjH,SAASC,cAAc,cACrC4G,EAAapL,EAAAA,EAAAA,WAAAA,OACfwL,EAAUnD,MAAMoB,QAAU,OAC1B+B,EAAUnD,MAAMoB,QAAU,QAExB+B,EAAUnD,MAAMoB,QAAU,MAC7B,IAKH,IAAImD,EAAchK,IAChB,IAAIiK,EAAYtI,SAASC,cAAc5B,GACvC9C,QAAQC,IAAI8M,EAAUxE,MAAMoB,SAK5B,IAAIoC,EAAMtH,SAASC,cAAc,OAC7BsH,EAAMvH,SAASC,cAAc,OAC7BuH,EAAMxH,SAASC,cAAc,OAC7BwH,EAAKzH,SAASC,cAAc,OAChCqH,EAAGxD,MAAMoB,QAAU,OACnBqC,EAAGzD,MAAMoB,QAAU,OACnBsC,EAAG1D,MAAMoB,QAAU,OACnBuC,EAAG3D,MAAMoB,QAAU,OAEY,QAA3BoD,EAAUxE,MAAMoB,QAClBoD,EAAUxE,MAAMoB,QAAU,OACU,QAA3BoD,EAAUxE,MAAMoB,UACzBoD,EAAUxE,MAAMoB,QAAU,OAC3B,EAOe,GAAd1I,EAAKY,QACPqI,EAAYrI,MAAQ,KACpBmI,EAAiBnI,MAAQ,OACzBoI,EAAkBpI,MAAQ,QAG5B,IAAImL,GAAYrL,EAAAA,EAAAA,KAAI,GAChBsL,GAAatL,EAAAA,EAAAA,KAAI,GAEjBuL,EAAW,KACbF,EAAUnL,OAAQ,CAAlB,EAGEsL,EAAY,KACdH,EAAUnL,OAAQ,CAAlB,EAGEuL,EAAY,KACdH,EAAWpL,OAAQ,CAAnB,EAIEwL,EAAa,KACfJ,EAAWpL,OAAQ,CAAnB,EAIEyL,GAAgB3L,EAAAA,EAAAA,IAAI,I,OACA,GAApBzB,EAAAA,EAAAA,MAAAA,MACFoN,EAAczL,MAAQ,cACO,GAApB3B,EAAAA,EAAAA,MAAAA,QACToN,EAAczL,MAAQ,gBAGxB8E,EAAAA,EAAAA,IAAMsG,GAAarG,IACH,GAAVA,GACF8B,YAAW,KACe,GAApBxI,EAAAA,EAAAA,MAAAA,MACFuE,SAASC,cAAc,gBAAgB6D,MAAMgF,MAAQ,UACxB,GAApBrN,EAAAA,EAAAA,MAAAA,QACTuE,SAASC,cAAc,gBAAgB6D,MAAMgF,MAAQ,UACtD,GACA,GACJ,I,4yEC/lBH,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,YAAY,qBAEvE,U,shBCkDM,KAAEC,IAASrM,EAAAA,EAAAA,IAAOC,GAExB,IAAIoH,GAAkB7G,EAAAA,EAAAA,IAAI,IACF,GAApBzB,EAAAA,EAAAA,MAAAA,MAEFsI,EAAgB3G,MAAQ,UACK,GAApB3B,EAAAA,EAAAA,MAAAA,QAETsI,EAAgB3G,MAAQ,WAG1B,IAAI4L,GAAQ9L,EAAAA,EAAAA,IAAI,MACZ+L,GAAQ/L,EAAAA,EAAAA,IAAI,MACZgM,GAAQhM,EAAAA,EAAAA,IAAI,MACZiM,GAAMjM,EAAAA,EAAAA,IAAI,MACVkM,GAAMlM,EAAAA,EAAAA,IAAI,MACVmM,GAAMnM,EAAAA,EAAAA,IAAI,OAEd0G,EAAAA,EAAAA,KAAU,KAGJnI,EAAAA,EAAAA,WAAAA,OAAyB,IAC3B0N,EAAI/L,MAAM0G,MAAMoB,QAAU,OAC1B8D,EAAM5L,MAAM0G,MAAMoB,QAAU,QAE1BzJ,EAAAA,EAAAA,WAAAA,OAAyB,IAC3B2N,EAAIhM,MAAM0G,MAAMoB,QAAU,OAC1B+D,EAAM7L,MAAM0G,MAAMoB,QAAU,QAE1BzJ,EAAAA,EAAAA,WAAAA,OAAyB,IAC3B4N,EAAIjM,MAAM0G,MAAMoB,QAAU,OAC1BgE,EAAM9L,MAAM0G,MAAMoB,QAAU,OAC7B,KAGHhD,EAAAA,EAAAA,IAAMzG,EAAAA,EAAAA,YAAkB0G,IACR,GAAVA,GACFgH,EAAI/L,MAAM0G,MAAMoB,QAAU,OAC1B8D,EAAM5L,MAAM0G,MAAMoB,QAAU,QAEX,GAAV/C,GAAyB,GAAVA,GACtBgH,EAAI/L,MAAM0G,MAAMoB,QAAU,OAC1BkE,EAAIhM,MAAM0G,MAAMoB,QAAU,OAC1B8D,EAAM5L,MAAM0G,MAAMoB,QAAU,OAC5B+D,EAAM7L,MAAM0G,MAAMoB,QAAU,QAEX,GAAV/C,GAAyB,GAAVA,IACtBgH,EAAI/L,MAAM0G,MAAMoB,QAAU,OAC1BkE,EAAIhM,MAAM0G,MAAMoB,QAAU,OAC1BmE,EAAIjM,MAAM0G,MAAMoB,QAAU,OAC1B8D,EAAM5L,MAAM0G,MAAMoB,QAAU,OAC5B+D,EAAM7L,MAAM0G,MAAMoB,QAAU,OAC5BgE,EAAM9L,MAAM0G,MAAMoB,QAAU,OAC7B,IAKH,IAAIoE,EAAS,KACXtJ,SAASC,cAAc,mBAAmB6D,MAAMoB,QAAU,MAA1D,E,27BC/GF,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,YAAY,qBAEvE,U,mGCYM,KAAC6D,IAAQrM,EAAAA,EAAAA,IAAOC,G,wLCdtB,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,YAAY,qBAEvE,U,yFCuBA,IAAIH,GAAOU,EAAAA,EAAAA,IAAI,GACXT,GAAUS,EAAAA,EAAAA,KAAI,GAGdgJ,EAAcqD,IAChB/M,EAAKY,MAAQmM,CAAb,EAGEC,EAAiB7B,IACnBlL,EAAQW,MAAQuK,CAAhB,EAIE8B,GAAavM,EAAAA,EAAAA,IAAI,MAGG,GAApBzB,EAAAA,EAAAA,MAAAA,MAEF6F,EAAAA,EAAAA,QAAe,YACc,GAApB7F,EAAAA,EAAAA,MAAAA,MACTgO,EAAWrM,MAAQsM,EAAS,KACC,GAApBjO,EAAAA,EAAAA,MAAAA,QACTgO,EAAWrM,MAAQsM,EAAS,OAG9B,IAAIC,EAAkB,IAAIC,MAC1BD,EAAgBE,IAAMH,EAAS,MAC/B,IAAII,EAAW,IAAIF,M,OACnBE,EAASD,IAAMH,EAAS,OAGxB9F,EAAAA,EAAAA,KAAU,KACRrI,QAAQC,IAAI,qBAAZ,I,qcCzDF,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,YAAY,qBAEvE,S","sources":["webpack://bypixel/./src/modules/cdtime.js","webpack://bypixel/./src/components/gameView/mainCanvas.vue","webpack://bypixel/./src/components/gameView/mainCanvas.vue?89e4","webpack://bypixel/./src/components/gameView/situation.vue","webpack://bypixel/./src/components/gameView/situation.vue?4e29","webpack://bypixel/./src/components/gameView/bottomBar.vue","webpack://bypixel/./src/components/gameView/bottomBar.vue?8410","webpack://bypixel/./src/components/gameView/winnerPage.vue","webpack://bypixel/./src/components/gameView/winnerPage.vue?631b","webpack://bypixel/./src/components/gameView/topUserInfo.vue","webpack://bypixel/./src/components/gameView/topUserInfo.vue?b012","webpack://bypixel/./src/views/gameView.vue","webpack://bypixel/./src/views/gameView.vue?e448"],"sourcesContent":["import axios from \"../request/axios\";\r\nimport user from \"./userState\";\r\n\r\nexport default {\r\n  getCDtime() {\r\n    // 获取并设置时间\r\n    // 触发timeGoes函数\r\n    axios\r\n      .get(`/user/state`)\r\n      .then((res) => {\r\n        if (res.data.data.state == true) {\r\n          console.log(\"能draw\");\r\n          user.CDtime.value = 0;\r\n        } else if (res.data.data.state == false) {\r\n          console.log(\"不能draw\");\r\n          let lastTime = res.data.data.last_paint_time;\r\n          // 时间戳单位转换为秒\r\n          if (lastTime > 1600000000000) {\r\n            // 向上取整\r\n            lastTime = Math.ceil(lastTime / 1000);\r\n          }\r\n          let duration = 300;\r\n          if (user.group.value == 1) {\r\n            // 绿队\r\n            let daytime = Date.now();\r\n            // 8号九点到9号0点\r\n            if (daytime > 1662642000000 && daytime < 1662652800000) {\r\n              duration = 180;\r\n            }\r\n          }\r\n          let nextTime = lastTime + duration;\r\n          let nowTime = Math.floor(Date.now() / 1000);\r\n          console.log(\"下一次\", nextTime);\r\n          // console.log(\"现在\", nowTime);\r\n          let cdt = nextTime - nowTime < 0 ? 0 : nextTime - nowTime;\r\n          if (cdt >= duration) {\r\n            cdt = duration - 1;\r\n          } else if (cdt < duration - 2) {\r\n            cdt = duration - 1;\r\n          }\r\n          user.CDtime.value = cdt;\r\n          user.timeGoes();\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  },\r\n};\r\n","<template>\n  <div ref=\"cc\" id=\"canvasContainer\">\n    <div class=\"lastPaintBar\">{{lastPaintText}}</div>\n    <div class=\"shareBtn\" @click=\"popSharePage\">\n      <img :src=\"shareBtnIcon\"/>\n    </div>\n    <v-stage ref=\"stage\" :config = \"configKonva\" @touchmove=\"scaleMove\" @touchstart=\"scaleStart\" @touchend=\"scaleEnd\">\n      <v-layer ref=\"layer\" :config=\"configLayer\">\n\n        <v-group ref=\"Field\" :config=\"configField\" @touchstart=\"ar\">\n          <v-rect v-for=\"(square, index) in configSquares \" :key=\"index\" :config=\"square\" @touchend=\"colorEvent\" />          \n        </v-group>\n\n        <!-- <v-image :config=\"configImage\"></v-image> -->\n        <!-- <v-rect :config=\"a\"></v-rect> -->\n        <!-- <v-text :config=\"text\"></v-text> -->\n\n      </v-layer>\n    </v-stage>\n  </div>\n\n  <div v-if=\"showSharePage\" class=\"sharePage\" @click=\"fadeSharePage\">\n    <div class=\"shareBox\"   @click.stop=\"null\">\n      <img :src=\"shareCardImg\"  @touchstart=\"startTimer\" @touchend=\"endTimer\"  />\n      <div class=\"shareSaveTips\">长按图片保存</div>\n    </div>\n  </div>\n\n  <div v-if=\"showTT\" class=\"abcWarp\"  @click=\"abcfade\">\n    <div  class=\"popUpabc\">\n      <!-- <span>\n        <span class=\"highLight\">\n          为呵护“小绿人”，将在今晚21：00后，为其提供冷却时间缩短至3分钟的翻盘buff。\n        </span>\n        <br/>\n        <br/>\n        请各位huster注意21：00后的黄金对抗时间！\n      </span> -->\n      <span>\n        <br/>\n        欢迎参加！游戏已结束\n        <br/>\n        <br/>\n        \n        \n      </span>\n\n\n    </div>\n  </div>\n\n\n\n</template>\n\n\n<script setup>\nimport user from \"@/modules/userState\";\nimport router from \"@/router\";\nimport { toRefs, ref, reactive, defineProps, defineEmits,onMounted,watch  } from \"vue\";\nimport canvas from \"../../modules/canvasState\";\nimport axios from \"../../request/axios\";\nimport cdtime from \"../../modules/cdtime\";\n// import 直接执行\n\nconst props = defineProps({\n  mode: {\n    type: Number,\n    default: 0\n  },\n  refresh: {\n    type: Boolean,\n  },\n});\nconst { mode,refresh } = toRefs(props);   //得到的props是响应式的\n// console.log(\"mode.value:\",mode.value);\nlet emit = defineEmits(['changeMode',\"changeRefresh\"]);\n\n// 画布缩放\nlet configLayer = reactive({\n  scaleX:1,\n  scaleY: 1,\n  // fill:\"#f2f2f2\",\n})\nlet urlprefix = process.env.VUE_APP_develope == \"true\"? \"\":\"/drill-battle\";\n\nlet shareBtnIcon = ref('shareIcon.png');\n\nlet shareCardImg = ref(\"\");\nshareCardImg.value = `${urlprefix}/shareImg${user.group.value}.jpg`;\n\n// 初始化数据\n// console.log(\"进入主页面且开始初始化数据\");\ncanvas.initCanvasData();\n\nlet configKonva = canvas.configKonva;\ncanvas.fillConfigKonva();\n\nlet configField = canvas.configField;\ncanvas.fillconfigField();\n\nlet configSquares = canvas.configSquares;\ncanvas.fillConfigSquares();\n\n\n// cc是canvasContainer\nlet cc = ref(null);\nlet stage = ref(null);\n// Field是画布\nlet Field = ref(null);\n// onMounted(() => {\n//   // console.log(\"canvasContainer\", cc.value);  \n//   // let FieldContext = Field.value.getNode().children[26];用children拿就会乱序\n//   // console.log(FieldContext);\n//   // 用name拿不会乱序\n//   if (canvas.lastPosition.value[0] != -1 && canvas.lastPosition.value[1] != -1) {\n//     stage.value.getStage()\n//       .find(`.square${canvas.latestPosition.value[0] * canvas.squareXnum + canvas.latestPosition.value[1]}`)[0]\n//       .moveToTop();\n//     // 首次显示最新格子：进入主页面之前请求，fill时设置stroke，mounted时movetoTop\n//     console.log(canvas.configSquares);    \n//   }\n\n// })\n\nlet saveSquare = {\n  squareName: \"square0\",\n  squareId:-1,\n  stroke: \"#c8c8c8\",\n  strokeWidth: 1,\n};\n\n\n// 双指缩放\nlet currentFieldX;\nlet currentFieldY;\nlet ar = (event) => {\n  // console.log(\"点到了field\", event.target.parent);\n  currentFieldX = event.target.parent.attrs.x;\n  currentFieldY = event.target.parent.attrs.y;\n}\n\nlet scaleController = reactive({\n  scale: 1,    //field 的缩放倍率\n  centerX0: 0,   //点击中心位置相对于stage的位置\n  centerY0: 0,\n  centerXf: 0,     //点击中心位置相对于field的位置\n  centerYf:0,\n  oldDistance:0,   //上一次move的两指间距离\n});\n\nlet getDistance = (a,b) => {\n  return Math.hypot(a.x - b.x, a.y - b.y);\n}\nlet getCenter = (a,b) => {\n  return { x: (a.x + b.x) / 2, y: (a.y + b.y) / 2 };\n}\n\n// let text = reactive({\n//   x: 0,\n//   y: 0,\n//   text: \"no\",\n//   fontSize: 20,\n//   fontFamily: 'Calibri',\n//   fill: 'green'\n// })\n\nlet scaleStart = (event) => {\n// 设置初始的两指距离\n  if (event.evt == undefined) {\n    // console.log(\"touchstart\", event);    \n    if (event.touches.length == 2) {\n      let a = {\n        x: event.touches[0].clientX,\n        y: event.touches[0].clientY,\n      }\n      let b = {\n        x: event.touches[1].clientX,\n        y: event.touches[1].clientY,        \n      }\n      let distance = getDistance(a, b);\n      scaleController.oldDistance = distance;\n\n      // 求client中间点\n      let center = getCenter(a, b);\n      // 得到中间点在stage里的坐标\n      let stageX = document.querySelector(\"#canvasContainer\").getBoundingClientRect().x;\n      let stageY = document.querySelector(\"#canvasContainer\").getBoundingClientRect().y;\n\n      scaleController.centerX0 = center.x - stageX;\n      scaleController.centerY0 = center.y - stageY;    \n      scaleController.centerXf = (scaleController.centerX0 - currentFieldX )/scaleController.scale * canvas.fieldScale0;\n      scaleController.centerYf = (scaleController.centerY0 - currentFieldY )/scaleController.scale * canvas.fieldScale0;          \n\n      // text.text = `start ${scaleController.oldDistance}`;  \n    }\n  }\n}\n\nlet scaleEnd = (event) => {\n  // 去除这次的两指初始距离\n  // console.log(\"end:\", event);\n  if (event.evt == undefined) {\n    scaleController.oldDistance = 0;\n\n    // text.text = `end`;  \n\n  }\n}\n\nlet scaleMove = (event) => {\n  if (event.evt == undefined) {\n    // 此时event是stage而不是点到了rect\n  // console.log(\"event.changedTouches\", event.changedTouches);\n  // console.log(\"event.changedTouches[0].clientX\", event.changedTouches[0].clientX);\n    if (scaleController.oldDistance != 0) {\n      // 存在上一次的两指距离\n      if (event.changedTouches.length == 2) {\n        // 两个触点是缩放\n        // 得到新的两指距离\n        let a = {\n          x: event.changedTouches[0].clientX,\n          y: event.changedTouches[0].clientY,\n        }\n        let b = {\n          x: event.changedTouches[1].clientX,\n          y: event.changedTouches[1].clientY,        \n        }\n        let newDistance = getDistance(a, b);\n        // 两次之比求出这次move增减的倍率\n        let scrollSpeed = 0.08 * canvas.squareXnum/25;\n        let ratio = newDistance / scaleController.oldDistance * scrollSpeed;\n        if (ratio > 1.5 * scrollSpeed) {\n          ratio = 1.5 * scrollSpeed;\n        } else if (ratio < 0.7 * scrollSpeed) {\n          ratio = 0.7 * scrollSpeed;\n        }\n        // 得到真实scale\n        if (ratio > 1*scrollSpeed) {\n          scaleController.scale = scaleController.scale + ratio > 4 ? 4 : scaleController.scale + ratio;          \n        } else if (ratio < 1*scrollSpeed) {\n          scaleController.scale = scaleController.scale - ratio > 4 ? 4 : scaleController.scale - ratio;             \n        }\n        // 设置缩放范围\n        if (scaleController.scale < 1) {\n          scaleController.scale = 1;\n        }\n        if (scaleController.scale > 4*canvas.squareXnum/25) {\n          scaleController.scale = 4*canvas.squareXnum/25;\n        }\n\n        // text.text = `${scaleController.scale}\n        // ${scaleController.centerX}\n        // ${scaleController.centerY}`;  \n\n        // 控制fieldscale\n        if (scaleController.scale == 1) {\n        // 当scale==1时强制field回归fieldScale0，fieldX0，fieldY0，不能drag\n          canvas.configField.scaleX = canvas.fieldScale0;\n          canvas.configField.scaleY = canvas.fieldScale0;\n          canvas.configField.x = canvas.fieldX0;\n          canvas.configField.y = canvas.fieldY0;\n          canvas.configField.draggable = true;\n          canvas.configField.dragBoundFunc = function () {\n            return {\n              x: canvas.fieldX0,\n              y: canvas.fieldY0,\n            };\n          };\n        } else if (scaleController.scale > 1) {\n        // 当scale>1时 根据中心坐标为中心，sacle为倍率，能drag并且设置范围限制\n          canvas.configField.draggable = false;        \n          canvas.configField.scaleX = scaleController.scale * canvas.fieldScale0;\n          canvas.configField.scaleY = scaleController.scale * canvas.fieldScale0;\n          canvas.configField.x = scaleController.centerX0 - scaleController.centerXf * scaleController.scale * canvas.fieldScale0;\n          canvas.configField.y = scaleController.centerY0 - scaleController.centerYf * scaleController.scale * canvas.fieldScale0; \n        }\n\n        // 设置这次的两指位置作为下次move的参考\n        scaleController.oldDistance = newDistance;\n      } \n    }\n    if (event.changedTouches.length == 1) {\n      // 一个触点是drag\n      if (scaleController.scale == 1) {\n        canvas.configField.draggable = true;\n        canvas.configField.dragBoundFunc = function () {\n          return {\n            x: canvas.fieldX0,\n            y: canvas.fieldY0,\n          };\n        };\n      } else if (scaleController.scale > 1) {\n        canvas.configField.draggable = true;\n        canvas.configField.dragBoundFunc = function (pos) {\n          let newY = pos.y;\n          if (pos.y > canvas.stageHeight*0.3) {\n            newY = canvas.stageHeight*0.3;\n          } else if (pos.y < canvas.stageHeight- canvas.fieldHeight*canvas.configField.scaleY - canvas.stageHeight*0.3) {\n            newY = canvas.stageHeight- canvas.fieldHeight*canvas.configField.scaleY - canvas.stageHeight*0.3;\n          } else {\n            newY = pos.y;\n          }\n          let newX = pos.x;\n          if (pos.x > canvas.stageWidth*0.3) {\n            newX = canvas.stageWidth * 0.3;\n          } else if (pos.x <  canvas.stageWidth- canvas.fieldWidth*canvas.configField.scaleX - canvas.stageWidth*0.3) {\n            newX =  canvas.stageWidth- canvas.fieldWidth*canvas.configField.scaleX - canvas.stageWidth*0.3 ;\n          } else {\n            newX = pos.x;\n          }    \n          return {\n            x: newX,\n            y: newY\n          };\n        };        \n      }\n    }\n  }\n}\n\n\n\n\n// 更新画布\nlet drawCanvas=()=>{\n  // 更新画布时的draw操作\n  // 将[i][j]转换为i*rownum+j\n\n  // 更新整个画布\n  console.log(\"into drawCanvas更新画布\");\n  for (let i = 0; i < canvas.squareYnum; i++) {\n    for (let j = 0; j < canvas.squareXnum; j++) {\n      // 更新所有格子颜色\n      canvas.configSquares[i * canvas.squareXnum + j].fill = canvas.squareColor(i,j);\n      // 更新所有格子所属\n      canvas.configSquares[i * canvas.squareXnum + j].occupy = canvas.setOccupy(i, j);\n    }\n  }\n  // 更新最新格子\n  if (canvas.latestPosition.value[0] != -1 && canvas.latestPosition.value[1] != -1) {\n    if (canvas.lastPosition.value[0] != -1 && canvas.lastPosition.value[1] != -1) {\n      // console.log(\"canvas.lastPosition存在\")\n      canvas.configSquares[\n        canvas.lastPosition.value[0] * canvas.squareXnum + \n          canvas.lastPosition.value[1]\n      ].stroke = \"rgb(200, 200, 200)\";\n    }\n    canvas.configSquares[\n      canvas.latestPosition.value[0] * canvas.squareXnum + \n        canvas.latestPosition.value[1]\n    ].stroke = \"black\"; \n\n    // 最新格子movetoTop\n    stage.value.getStage()\n    .find(`.square${canvas.latestPosition.value[0] * canvas.squareXnum + canvas.latestPosition.value[1]}`)[0]\n    .moveToTop();    \n  }\n\n};\n\nlet updateCanvas=()=>{\n  // 请求canvas\n  axios\n    .get(`/canvas`)\n    .then((res) => {\n      // console.log(\"get canvas数据:\", res);\n      canvas.canvasState.value = res.data.data.canvas;\n      // 每天0点换画布\n      if (canvas.canvasState.value.length != canvas.squareYnum) {\n        router.replace(\"/loading\");\n        location.reload(true);\n      }\n      // 每次请求将last变为latest\n      canvas.lastPosition.value = canvas.latestPosition.value;\n      canvas.group1Num.value = res.data.data.pixels_num.group_1;\n      canvas.group2Num.value = res.data.data.pixels_num.group_2;\n\n      if (res.data.data.last_paint == null) {\n        canvas.latestPosition.value = [-1, -1];\n      } else {\n        canvas.latestPosition.value = res.data.data.last_paint.pixel_position;\n      }\n\n      // 获取xx分钟前xx涂色\n      if (res.data.data.last_paint != null) {\n        // console.log(\"res.data.data.last_paint.time\",res.data.data.last_paint.time);\n        // console.log(\"res.data.data.last_paint.nickname\",res.data.data.last_paint.nickname)\n        if (canvas.lastPaintTime.value == res.data.data.last_paint.time) {\n          if (canvas.lastPaintName.value == res.data.data.last_paint.nickname) {\n            let nowTime = Math.floor( Date.now()/1000);\n            let lastTime;\n            // console.log(\"跑时间，nowTime\",nowTime);\n            if (res.data.data.last_paint.time > 1600000000000) {\n              lastTime = Math.ceil(res.data.data.last_paint.time / 1000);\n            }else {\n              lastTime = res.data.data.last_paint.time;\n            }\n            // console.log(\"跑时间，lastTime\",lastTime);            \n            canvas.lastPaintMin.value = Math.floor((nowTime - lastTime)/60);\n            console.log(\"canvas.lastPaintMin.value\",canvas.lastPaintMin.value);\n          }\n        }\n\n        canvas.lastPaintTime.value = res.data.data.last_paint.time;\n        canvas.lastPaintName.value = res.data.data.last_paint.nickname;\n        canvas.lastPaintGroup.value = res.data.data.last_paint.group;\n        // console.log(\"canvas.lastPaintGroup.value!!\",canvas.lastPaintGroup.value);\n      } else {\n        canvas.lastPaintTime.value = 0;\n      }\n    \n\n      // console.log(\"canvas.canvasState.value:\",canvas.canvasState.value); \n\n      drawCanvas();\n      // console.log(\"成功刷新画布\");\n    })\n    .catch((res) => {\n      console.log(\"请求canvas发生错误：\",res);\n    });\n};\n\n// 每隔20s获取并刷新canvs数据\nsetInterval(updateCanvas, 20000);// setInterval里的函数不要用this\n\n// 涂色后刷新canvas数据\nwatch(refresh, (newval) => {\n  if (newval == true) {\n    updateCanvas();\n    // 清除存储的方块，防止将自己上次涂的方块变灰\n    saveSquare.squareId = -1;\n    saveSquare.squareName = \"square0\";\n    emit(\"changeRefresh\", false);\n  }\n})\n\n\n\n\n// 改变模式\n// let changeModeTo0 = () => {\n//   if (mode.value == 1) {\n//     emit(\"changeMode\", 0);\n//   }\n// };\nlet changeModeTo2 = () => {\n  if (mode.value == 1) {\n    emit(\"changeMode\", 2);\n  }\n};\n\n// mode切换 改变方格边框\nwatch(mode, (newval,oldval) => { \n  if (newval == 1) {\n    for (let i = 0; i < canvas.squareYnum; i++) {\n      for (let j = 0; j < canvas.squareXnum; j++) {\n        if (canvas.configSquares[i * canvas.squareXnum + j].occupy != 3) {\n          // 非镂空格子\n          canvas.configSquares[i*canvas.squareXnum+j].strokeWidth = 1;          \n        } else if (canvas.configSquares[i * canvas.squareXnum + j].occupy == 3) {\n          // 镂空格子将其图层移动到底部，防止边缘格子边框显示错误\n            stage.value.getStage()\n            .find(`.square${i * canvas.squareXnum + j}`)[0]\n            .moveToBottom();\n        }\n      }\n    }\n\n    // let FieldContext = Field.value.getNode().children[26];\n    // FieldContext.moveToTop();\n    // console.log(FieldContext);  \n    // stage.value.getStage().find(\".square26\")[0].moveToTop();\n  \n  } else if (newval == 0) {\n\n    for (let i = 0; i < canvas.squareYnum; i++) {\n      for (let j = 0; j < canvas.squareXnum; j++) {\n        if (canvas.configSquares[i * canvas.squareXnum + j].occupy != 3) {\n          canvas.configSquares[i*canvas.squareXnum+j].strokeWidth = 0;          \n        }        \n      }\n    }\n\n  }\n  if (newval == 1 && oldval == 2) {\n    // 涂色失败返回来\n    let target = stage.value.getStage().find(`.${saveSquare.squareName}`)[0];\n    target.attrs.strokeWidth = saveSquare.strokeWidth;\n    target.attrs.stroke = saveSquare.stroke;\n    // console.log(\"涂色失败时latest\",target.attrs.stroke); \n    // 神奇的bug，注释掉if就能让latest变回黑色\n    // if (target.attrs.stroke != \"black\") {\n      target.moveToBottom();\n    // }    \n  }\n});\n\n\n// 涂色事件  其实是在点击的位置post group\n\nlet colorEvent = function (event) {\n  // console.log(\"点击了这个格子\", event.evt);\n  if (mode.value == 1 || mode.value == 2) {\n    if (user.group.value != event.target.attrs.occupy && event.target.attrs.occupy != 3) {\n      // 在这里涂色    \n      // 获得位置信息\n      let name = event.target.attrs.name;\n      let id = name.slice(6);\n      console.log(\"click this \", id);\n      let i = Math.floor(id / canvas.squareXnum);\n      let j = id % canvas.squareXnum;\n      let targetSquare = [];\n      targetSquare.push(i);\n      targetSquare.push(j);\n      console.log(targetSquare);\n      // 标记选中格子\n      canvas.targetSquare.value = targetSquare;\n\n      changeModeTo2();\n      let Stage = stage.value.getStage();\n\n      // 将上一个恢复平常\n      if (saveSquare.squareId != -1) {\n        console.log(\"恢复上一个\")\n        let lastTarget = Stage.find(`.${saveSquare.squareName}`)[0];\n        console.log(\"lastTarget.attrs\", lastTarget.attrs);\n        console.log(\"saveSquare.squareName\")\n        lastTarget.attrs.strokeWidth = saveSquare.strokeWidth;\n        lastTarget.attrs.stroke = saveSquare.stroke;\n        if (lastTarget.attrs.stroke != \"black\") {\n          lastTarget.moveToBottom();\n        }\n        // 上一个的周围如果有镂空，就将镂空movetobottom\n        let below = Number(saveSquare.squareId) + Number(canvas.squareXnum);\n        if (below < canvas.squareXnum * canvas.squareYnum && Stage.find(`.square${below}`)[0].attrs.occupy == 3) {\n          Stage.find(`.square${below}`)[0].moveToBottom();\n        }\n        let above = Number(saveSquare.squareId) - Number(canvas.squareXnum);\n        if (above >= 0 && Stage.find(`.square${above}`)[0].attrs.occupy == 3) {\n          Stage.find(`.square${above}`)[0].moveToBottom();\n        }\n        let left = Number(saveSquare.squareId) - 1;\n        if (left >= 0 && Stage.find(`.square${left}`)[0].attrs.occupy == 3) {\n          Stage.find(`.square${left}`)[0].moveToBottom();\n        }\n        let right = Number(saveSquare.squareId) + 1;\n        if (right < canvas.squareXnum * canvas.squareYnum && Stage.find(`.square${right}`)[0].attrs.occupy == 3) {\n          Stage.find(`.square${right}`)[0].moveToBottom();\n        }\n\n      } else {\n        console.log(\"初次选择\");\n      }\n\n\n      // 存储当前\n      let target = Stage.find(`.${name}`)[0];\n      saveSquare.squareName = target.attrs.name;\n      saveSquare.squareId = id;\n\n      saveSquare.stroke = target.attrs.stroke;\n      saveSquare.strokeWidth = target.attrs.strokeWidth;\n      console.log(\"保存当前的stroke\", saveSquare.stroke);\n\n      // 操作当前\n      target.moveToTop();\n      target.attrs.strokeWidth = 3;\n      target.attrs.stroke = \"#c8c8c8\";\n\n    }\n  } else if (mode.value == 0 && event.evt.changedTouches.length <= 1  &&event.evt.targetTouches.length == 0) {\n      if (user.CDtime.value == 0) {\n        emit(\"changeMode\", 1);\n      } \n  } else if (mode.value == 3) {\n    console.log(\"游戏已结束，不可点击\");\n    }    \n  \n}\n\n\n\nlet lastPaintTime = canvas.lastPaintTime.value;\nlet lastPaintName = canvas.lastPaintName.value;\nif (lastPaintName.length > 8) {\n  lastPaintName = lastPaintName.slice(0, 8)+\"...\";\n}\nlet lastPaintMin;\nlet lastPaintRawText;\nif (lastPaintTime == 0) {\n  lastPaintRawText = ``;\n} else if (lastPaintTime > 0) {\n  if (lastPaintTime > 1600000000000) {\n    lastPaintTime = Math.ceil(lastPaintTime / 1000);\n  }\n  let nowTime = Math.floor(Date.now() / 1000);\n  lastPaintMin = Math.floor((nowTime - lastPaintTime) / 60);\n  if (lastPaintMin < 0) {\n    lastPaintMin = 0;\n  }\n  let lastPaintHour = 0;\n  if (lastPaintMin >= 60) {\n    lastPaintHour = Math.floor(lastPaintMin / 60);\n    lastPaintMin = lastPaintMin % 60;\n    if (lastPaintHour > 100) {\n          lastPaintRawText = `很久以前“${lastPaintName}”涂色`; \n    } else {\n      lastPaintRawText = `${lastPaintHour}小时${lastPaintMin}分钟前“${lastPaintName}”涂色`;      \n    }\n  \n  } else {\n    if (lastPaintMin == 0) {\n      lastPaintRawText = `刚刚“${lastPaintName}”涂色`;\n    } else {\n      lastPaintRawText = `${lastPaintMin}分钟前“${lastPaintName}”涂色`;     \n    }\n\n  }\n\n}\nlet lastPaintText = ref(lastPaintRawText);\n\n\nonMounted(() => {\n  // console.log(\"canvasContainer\", cc.value);\n  // let FieldContext = Field.value.getNode().children[26];用children拿就会乱序\n  // console.log(FieldContext);\n  // 用name拿不会乱序\n  // console.log(\"mainCanvas onMounted\");\n  if (canvas.latestPosition.value[0] != -1 && canvas.latestPosition.value[1] != -1) {\n    stage.value.getStage()\n      .find(`.square${canvas.latestPosition.value[0] * canvas.squareXnum + canvas.latestPosition.value[1]}`)[0]\n      .moveToTop();\n    // 首次显示最新格子：进入主页面之前请求，fill时设置stroke，mounted时movetoTop\n    // console.log(canvas.configSquares);\n  }\n\n  let lastpaintBar = document.querySelector(\".lastPaintBar\");\n  console.log(\"set color :canvas.lastPaintGroup.value\",canvas.lastPaintGroup.value);\n  if (canvas.lastPaintGroup.value == 1) {\n    lastpaintBar.style.backgroundColor = \"#00d599\";\n  } else if (canvas.lastPaintGroup.value == 2) {\n    lastpaintBar.style.backgroundColor = \"#ffc500\";\n  }  \n  // if (user.group.value == 1) {\n  //   lastpaintBar.style.backgroundColor = \"#00d599\";\n  // } else if (user.group.value == 2) {\n  //   lastpaintBar.style.backgroundColor = \"#ffc500\";\n  // }\n\n  if (lastPaintTime > 0) {\n    document.querySelector(\".lastPaintBar\").className = \"lastPaintBar fade-in\";\n  }\n\n\n\n})\n\n\n\nwatch(canvas.lastPaintTime, (newval) => {\n  if (newval > 0) {\n    lastPaintName = canvas.lastPaintName.value;\n    if (lastPaintName.length > 8) {\n      lastPaintName = lastPaintName.slice(0, 8) + \"...\";\n    }\n    lastPaintTime = canvas.lastPaintTime.value;\n    if (lastPaintTime > 1600000000000) {\n      lastPaintTime = Math.ceil(lastPaintTime / 1000);\n    }\n    let nowTime = Math.floor(Date.now() / 1000);\n    lastPaintMin = Math.floor((nowTime - lastPaintTime) / 60);\n    if (lastPaintMin < 0) {\n      lastPaintMin = 0;\n    }\n    \n    // lastPaintRawText = ``;  \n    // lastPaintText.value = lastPaintRawText;\n    document.querySelector(\".lastPaintBar\").className += \" fade-out\";\n    setTimeout(() => {\n\n      let lastpaintBar = document.querySelector(\".lastPaintBar\");\n      console.log(\"set color :canvas.lastPaintGroup.value\",canvas.lastPaintGroup.value);\n      if (canvas.lastPaintGroup.value == 1) {\n        lastpaintBar.style.backgroundColor = \"#00d599\";\n      } else if (canvas.lastPaintGroup.value == 2) {\n        lastpaintBar.style.backgroundColor = \"#ffc500\";\n      }  \n\n      let lastPaintHour = 0;\n      if (lastPaintMin >= 60) {\n        lastPaintHour = Math.floor(lastPaintMin / 60);\n        lastPaintMin = lastPaintMin % 60;\n        if (lastPaintHour > 100) {\n          lastPaintRawText = `很久以前“${lastPaintName}”涂色`; \n        } else {\n          if (lastPaintMin == 0) {\n            lastPaintRawText = `${lastPaintHour}小时前“${lastPaintName}”涂色`;  \n          } else {\n            lastPaintRawText = `${lastPaintHour}小时${lastPaintMin}分钟前“${lastPaintName}”涂色`;  \n          }\n        }\n\n\n        \n      } else {\n        if (lastPaintMin == 0) {\n          lastPaintRawText = `刚刚“${lastPaintName}”涂色`;\n        } else {\n          lastPaintRawText = `${lastPaintMin}分钟前“${lastPaintName}”涂色`;     \n        }\n      }\n\n      lastPaintText.value = lastPaintRawText;\n      document.querySelector(\".lastPaintBar\").className = \"lastPaintBar fade-in\";\n    }, 1000);\n\n  } else if (newval == 0) {\n    lastPaintRawText = ``;\n    lastPaintText.value = lastPaintRawText;\n    document.querySelector(\".lastPaintBar\").className = \"lastPaintBar fade-out\";\n  }\n})\n\nwatch(canvas.lastPaintMin, (newval) => {\n  // console.log(\"canvas.lastPaintMin  newaval\",newval)\n  let lastPaintHour = 0;\n  if (newval >= 60) {\n    lastPaintHour = Math.floor(newval / 60);\n    newval = newval % 60;\n    if (lastPaintHour > 100) {\n      lastPaintRawText = `很久以前“${lastPaintName}”涂色`; \n    } else {\n      if (newval == 0) {\n        lastPaintRawText = `${lastPaintHour}小时前“${lastPaintName}”涂色`;  \n      } else {\n        lastPaintRawText = `${lastPaintHour}小时${newval}分钟前“${lastPaintName}”涂色`;  \n      }      \n    }\n    \n  } else {\n    if (newval == 0) {\n      lastPaintRawText = `刚刚“${lastPaintName}”涂色`;\n    } else {\n      lastPaintRawText = `${newval}分钟前“${lastPaintName}”涂色`;     \n    }\n  }\n  lastPaintText.value = lastPaintRawText;\n\n  let lastpaintBar = document.querySelector(\".lastPaintBar\");\n  console.log(\"set color :canvas.lastPaintGroup.value\",canvas.lastPaintGroup.value);\n  if (canvas.lastPaintGroup.value == 1) {\n    lastpaintBar.style.backgroundColor = \"#00d599\";\n  } else if (canvas.lastPaintGroup.value == 2) {\n    lastpaintBar.style.backgroundColor = \"#ffc500\";\n  }  \n})\n\nlet showSharePage = ref(false);\n\nlet popSharePage = ()=>{\n  showSharePage.value = true;\n}\n\n\n\nlet fadeSharePage =()=>{\n  showSharePage.value = false;\n}\n\nlet shareTimer;\n\nlet reCDflag = ref(false);\n\nlet startTimer=()=>{\n  shareTimer = setTimeout(() => {\n    // showSharePage.value = false;\n    axios.put(`/user/cooling`).then(()=>{\n      console.log(\"send put request\");\n      reCDflag.value = true;\n    }).catch((res)=>{\n      console.log(res);\n    })\n  }, 200);\n}\n\nwatch(reCDflag,(newval)=>{\n  if(newval == true){\n    // 请求cd时间\n    axios.get(`/user/state`).then((res)=>{\n      console.log(res);\n      // 刷新时间\n      cdtime.getCDtime();\n\n    }).catch((res)=>{\n      console.log(res);\n    })\n    reCDflag = false;\n  }\n})\n\nlet endTimer = ()=>{\n  clearTimeout(shareTimer);\n}\n\n\nlet showTT = ref(false);\n// if (Date.now() < 1662652800000) {\n  // if (localStorage.getItem(\"abcd\") == null) {\n    showTT.value = true;\n    // localStorage.setItem(\"abcd\", true);\n    // console.log(\"未弹\");\n  // } else {\n  //   showTT.value = false;\n  //   console.log(\"已弹\");\n  // }  \n\n// }\n\n\nlet abcfade = () => {\n  showTT.value = false;\n}\n\n\n\n// !!!!!!如果config对象某个属性的值没变，那么这个值相关就不会重新渲染\n// 就是缩放前后设置的x和y没变的话，即使实际拖拽x和y改变了，也不会重新渲染x和y\n</script>\n\n<style scoped>\n#canvasContainer {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-image: url(\"@/assets/iamge/canvas_border.png\");\n  background-size: 100% 100%;\n  padding: 8px;\n  position: relative;\n  z-index: 2;\n  /* background-color: #979797;\n  background-color: #c8c8c8;\n  background-color: #f2f2f2; */\n} \n\n\n.lastPaintBar {\n  visibility: hidden;\n  position: absolute;\n  overflow: hidden;\n  flex-wrap: nowrap;\n  white-space:nowrap;\n  border-radius: 2px;\n  z-index: 2;\n  top: 8px;\n  left: 8px;\n  /* width: 46vw; */\n  width: auto;\n  padding-left: 2vmin;\n  padding-right: 2vmin;\n  height: 3vh;\n  background-color: rgb(231, 231, 231);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 1.6vh;\n  transition: .4s;\n}\n\n.fade-in {\n  visibility: visible;\n\t-webkit-animation: fade-in .6s ease-in-out both;\n  animation: fade-in .6s ease-in-out both;\n}\n\n@-webkit-keyframes fade-in {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n@keyframes fade-in {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n\n.fade-out {\n\t-webkit-animation: fade-out .4s ease-in both;\n  animation: fade-out .4s ease-in both;\n}\n\n@-webkit-keyframes fade-out {\n  0% {\n    opacity: 1;\n  }\n  100% {\n    opacity: 0;\n    visibility: hidden;\n  }\n}\n@keyframes fade-out {\n  0% {\n    opacity: 1;\n  }\n  100% {\n    opacity: 0;\n    visibility: hidden;\n  }\n}\n\n\n.shareBtn {\n  position: absolute;\n  width: 3vh;\n  height: 3vh;\n  right: 8px;\n  top: 8px;\n  z-index: 2;\n}\n\n.shareBtn img {\n  width: 100%;\n  height: 100%;\n}\n\n.sharePage {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 10;\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(33, 33, 33, 0.419);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.shareBox {\n  width: 76vw;\n  /* height: 70vh; */\n  background-color: white;\n  border-radius: 4px;\n  border: 2px solid black;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  overflow: hidden;  \n  z-index: 10;\n  position: relative;\n}\n\n.shareBox img {\n  margin-top: 1vh;\n  width: 70vw;\n  z-index: 10;\n}\n\n.shareSaveTips {\n  /* position: absolute; */\n  /* color: white; */\n  /* bottom: -15%; */\n  margin-top: 2vmin;\n  margin-bottom: 2vmin;\n  font-size: 3.3vmin;\n  z-index: 11;\n}\n\n\n.abcWarp {\n  width: 100vw;\n  height: 100vh;\n  z-index: 100;\n  position: absolute;\n  display: flex;\n  justify-content: center;\n  align-items: center;  \n}\n.popUpabc {\n  width: 70vw;\n  /* height: 30vh; */\n  position: relative;\n  /* top: 30vh; */\n  background-color: white;\n  border: 2px solid black;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 100;\n  padding: 4vmin;\n}\n\n\n.popUpabc::after {\n  content: \"✖ \";\n  position: absolute;\n  top: 0;\n  right: 2vmin;\n}\n\n.highLight {\n  color: rgb(241, 137, 109);\n  font-weight: 600;\n}\n</style>\n","import script from \"./mainCanvas.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./mainCanvas.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./mainCanvas.vue?vue&type=style&index=0&id=61f07306&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\MyWeb\\\\byproject\\\\bypixel\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-61f07306\"]])\n\nexport default __exports__","<template>\r\n<div class=\"situation\" @click=\"fadeRanking\">\r\n  <div class=\"scoreBar\">\r\n    <div class=\"gridBorder\"></div>\r\n    <div class=\"scoreTitle\">已涂色块数目</div>\r\n    <div class=\"scoreBox\">\r\n\r\n\r\n      <div class=\"scoreGroup\">\r\n        <div class=\"groupNameImg\">\r\n          <div class=\"groupImg\"><img src=\"@/assets/iamge/yellowlogo.png\"/></div>\r\n          <div class=\"groupName\"> &nbsp; 种太阳队</div>\r\n        </div>     \r\n        \r\n        <div class=\"groupNameImg\">\r\n          <div class=\"groupName\">吃西瓜队 &nbsp;</div>\r\n          <div class=\"groupImg\"><img src=\"@/assets/iamge/greenlogo.png\"/></div>          \r\n        </div>        \r\n      </div>\r\n\r\n      <div class=\"vsBox\">\r\n        <div class=\"groupNum\">{{canvas.group2Num}}</div>\r\n        <div class=\"vs\">VS</div>  \r\n        <div class=\"groupNum\">{{canvas.group1Num}}</div>        \r\n      </div>\r\n\r\n\r\n\r\n    </div>\r\n    <div class=\"gridBorder\"></div>\r\n  </div>\r\n  <!-- scoreBar 24vh -->\r\n  <div class=\"wholeView\">\r\n    <!-- <div  id=\"canvasContainer\">\r\n      <v-stage ref=\"stage\" :config = \"configKonva\">\r\n        <v-layer ref=\"layer\" :config=\"configLayer\">\r\n          <v-group ref=\"Field\" :config=\"configField\">\r\n            <v-rect v-for=\"(square, index) in SconfigSquares \" :key=\"index\" :config=\"square\"/>          \r\n          </v-group>\r\n        </v-layer>\r\n      </v-stage>\r\n    </div> \r\n    <div class=\"clickToFade\"  @click=\"fade\"></div>  -->\r\n    <div class=\"rankingTitle\">累计排行榜</div>\r\n    <div class=\"rangkingWarp\">\r\n      <rankingList v-if=\"showRanking\" ></rankingList>      \r\n    </div>\r\n  </div>\r\n\r\n\r\n  <!-- wholeView 最大60vh -->\r\n\r\n\r\n  <div class=\"bottomBar\">\r\n    <div class=\"gridBorder\"></div>\r\n    <div class=\"scrollBar\">\r\n      <p class=\"animate\">{{scrollText}}</p>\r\n    </div>     \r\n    <div class=\"gridBorder\"></div>\r\n  \r\n  </div>\r\n  <div class=\"returnTips\">点击任意地方返回</div>\r\n</div>\r\n\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, toRefs, defineProps, defineEmits, watch } from \"vue\";\r\n// import { reactive} from \"vue\";\r\nimport rankingList from \"./rankingList.vue\";\r\nimport canvas from \"../../modules/canvasState\";\r\n// import footerAD from \"../footerAD.vue\";\r\n\r\nlet props = defineProps({\r\n  showSit: {\r\n    type: Boolean,\r\n  },\r\n})\r\nlet { showSit } = toRefs(props);\r\n\r\n// console.log(showSit);\r\n\r\nlet emit = defineEmits(['changeShowSit']);\r\n\r\n\r\nlet showRanking = ref(true);\r\n\r\nlet fadeRanking = ()=>{\r\n  showRanking.value = false;\r\n  setTimeout(() => {\r\n    showRanking.value = true;\r\n  }, 10);\r\n}\r\n\r\n\r\n// // 画布缩放\r\n// let configLayer = reactive({\r\n//   scaleX:1,\r\n//   scaleY:1,\r\n// })\r\n// let SconfigSquares = [];\r\n// // square原稿大小\r\n// for (let i of canvas.configSquares) {\r\n//   SconfigSquares.push(\r\n//     reactive({\r\n//     x: i.x,\r\n//     y: i.y,\r\n//     width: i.width,\r\n//     height: i.height,\r\n//     fill: i.fill,    \r\n//   }))\r\n// }\r\n\r\n// let copyConfigSquares = () => {\r\n//   // for (let i of canvas.configSquares) {\r\n//   //   SconfigSquares.fill = i.fill;  \r\n//   //   // console.log(\"战况页 每个格子\",SconfigSquares.fill, i.fill); \r\n//   // } \r\n\r\n//   for (let i = 0; i < canvas.squareYnum; i++) {\r\n//     for (let j = 0; j < canvas.squareXnum; j++) {\r\n//       // 更新所有格子颜色\r\n//       SconfigSquares[i * canvas.squareXnum + j].fill = canvas.configSquares[i * canvas.squareXnum + j].fill;\r\n//     }\r\n//   }\r\n// }\r\n\r\n// let configField = reactive({\r\n//   x:0,\r\n//   y:0,\r\n//   scaleX:canvas.configField.scaleX,\r\n//   scaleY: canvas.configField.scaleX,\r\n// });\r\n// let configKonva = reactive({\r\n//   width: canvas.fieldWidth*canvas.fieldScale0,\r\n//   height: canvas.fieldHeight*canvas.fieldScale0,\r\n// });\r\n\r\nwatch(showSit, (newval) => {\r\n  if (newval == true) {\r\n    // 同步\r\n    // copyConfigSquares();\r\n    // console.log(\"战况页面更新\");\r\n    // \r\n    let popup = document.querySelector(\".popupSituation\");\r\n    popup.style.display = \"flex\";\r\n\r\n    emit(\"changeShowSit\", false);\r\n  }\r\n})\r\n\r\n// let fadeSit = ()=>{\r\n//   emit(\"changeShowSit\", false);  \r\n// }\r\n\r\n\r\n// let fade = () => {\r\n//   let popup = document.querySelector(\".popupSituation\");\r\n//   popup.style.display = \"none\";\r\n// }\r\n\r\n\r\n// 设置播报文字  day2  ：9.8\r\nlet day2 = 1662566400000;\r\nlet daynow = Date.now();\r\nconsole.log(\"day2\", day2);\r\nconsole.log(\"daynow\", daynow);\r\nlet scrollText = ref(\"\");\r\nif (canvas.group1CompleteTarget.value == true && canvas.group2CompleteTarget.value == true) {\r\n  scrollText.value = \"偷瓜队已完成目标拼图！     射日队已完成目标拼图！\";\r\n} else if (canvas.group1CompleteTarget.value == true) {\r\n  scrollText.value = \"偷瓜队已完成目标拼图！\";\r\n} else if (canvas.group2CompleteTarget.value == true) {\r\n  scrollText.value = \"射日队已完成目标拼图！\";  \r\n} else {\r\n  if (daynow < day2) {\r\n    scrollText.value = \"涂色更多的一队在明天可以获得特制头像框哦\";       \r\n  } else {\r\n    scrollText.value = \"\";   \r\n  }\r\n}  \r\n\r\nwatch(canvas.group1CompleteTarget, (newval) => {\r\n  if (newval == true) {\r\n    if (canvas.group2CompleteTarget.value == true) {\r\n      scrollText.value = \"偷瓜队已完成目标拼图！     射日队已完成目标拼图！\";      \r\n    } else {\r\n      scrollText.value = \"偷瓜队已完成目标拼图！\";\r\n    }\r\n  }\r\n})\r\n\r\nwatch(canvas.group2CompleteTarget, (newval) => {\r\n  if (newval == true) {\r\n    if (canvas.group1CompleteTarget.value == true) {\r\n      scrollText.value = \"偷瓜队已完成目标拼图！     射日队已完成目标拼图！\";      \r\n    } else {\r\n      scrollText.value = \"射日队已完成目标拼图！\";      \r\n    }\r\n  }\r\n})\r\n\r\n\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.situation {\r\n  width: 100vw;\r\n  height: 100vh;\r\n  z-index: 30;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  position: relative;\r\n\r\n  /* position: absolute; */\r\n  /* background-color: antiquewhite; */\r\n}\r\n.scoreBar {\r\n  margin-top: 1vh;\r\n  width: 100vw;\r\n  height: 24vh;\r\n  background-color: #ffffff6b;\r\n  /* border-top: 2px solid black; */\r\n  /* border-bottom: 2px solid black; */\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.scoreTitle {\r\n  width: 60%;\r\n  height: 4vh;\r\n  /* margin-top: 0.2vh; */\r\n  font-size: 3.5vh;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;  \r\n  /* background-color: #ffffff; */\r\n  border-radius: 2px;\r\n}\r\n.scoreBox {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-evenly;\r\n  align-items: center; \r\n  /* flex-grow: 1;  */\r\n  width: 100%;\r\n  height: 16vh;\r\n  /* margin-bottom: 10px; */\r\n}\r\n\r\n.vs {\r\n  font-size: 7vmin;\r\n}\r\n\r\n.groupName{\r\n  font-size: 2.2vh;\r\n}\r\n\r\n.groupNum {\r\n  font-size: 6vh;\r\n}\r\n\r\n.scoreGroup {\r\n  margin-top: 1vh;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-around;\r\n  /* justify-content: flex-start; */\r\n  align-items: center; \r\n  height: 6vh;\r\n  width: 100vmin;\r\n\r\n}\r\n\r\n.vsBox{\r\n  display: flex;\r\n  justify-content: space-evenly;\r\n  align-items: center;\r\n  flex-direction: row;\r\n  width: 90%;\r\n}\r\n\r\n.groupNameImg{\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-direction: row;\r\n}\r\n\r\n.groupImg {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 6vh;\r\n}\r\n.groupImg img {\r\n  height: 6vh;\r\n}\r\n/* \r\n.groupNum{\r\n\r\n} */\r\n\r\n\r\n.wholeView {\r\n  /* background-color: rgb(255, 255, 255); */\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-direction: column;\r\n  height: 62vh;\r\n  position: relative;\r\n  width: 95vw;\r\n}\r\n\r\n.rangkingWarp {\r\n  height: 47vh;\r\n  margin-bottom: 4vh;\r\n  width: 90vw;\r\n  padding-left: 2vw;\r\n  padding-right: 2vw;\r\n  margin-left: 2vw;\r\n  margin-right: 2vw;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.rankingTitle {\r\n  font-size: 3.5vh;\r\n  margin-bottom: 1vh;\r\n}\r\n\r\n#canvasContainer {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-image: url(\"@/assets/iamge/situation_border.png\");\r\n  background-size:  100% 100%;\r\n  background-repeat: no-repeat;\r\n  margin-top: 0.2vh;\r\n  padding: 10px;\r\n}\r\n\r\n.clickToFade {\r\n  position: absolute;\r\n  z-index: 10;\r\n  width: 100vw;\r\n  height: 100%;\r\n  background-color: transparent;\r\n}\r\n\r\n\r\n.bottomBar {\r\n  margin-top: 0.2vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.returnTips {\r\n  font-size: 4vmin;\r\n  color: rgb(70, 70, 70);\r\n  margin-top: 1vh;\r\n  margin-bottom: 2vh;\r\n  /* margin-bottom: 0.6vmin; */\r\n}\r\n\r\n.gridBorder {\r\n  height: 10px;\r\n  width: 100vw;\r\n  background-image: url(\"@/assets/iamge/gridborder.png\");\r\n  background-size: 100% 100% ;\r\n}\r\n\r\n\r\n.scrollBar {\r\n  width: 100vw;\r\n  height: 7.2vmin;\r\n  margin: 0;\r\n  /* border-top: 2px solid black; */\r\n  /* border-bottom: 2px solid black; */\r\n  overflow: hidden;\r\n  background-color: white;\r\n  text-align: center;\r\n\r\n}\r\n\r\n.animate {\r\n    font-size: 5vmin;\r\n    margin: 0;\r\n    line-height: 7vmin;\r\n    color: #000;\r\n    display: inline-block;\r\n    white-space: nowrap;\r\n    animation: 8s wordsLoop linear infinite normal;\r\n}\r\n\r\n@keyframes wordsLoop {\r\n    0% {\r\n        transform: translateX(180%);\r\n        -webkit-transform: translateX(180%);\r\n    }\r\n    100% {\r\n        transform: translateX(-180%);\r\n        -webkit-transform: translateX(-180%);\r\n    }\r\n}\r\n\r\n@-webkit-keyframes wordsLoop {\r\n    0% {\r\n        transform: translateX(180%);\r\n        -webkit-transform: translateX(180%);\r\n    }\r\n    100% {\r\n        transform: translateX(-180%);\r\n        -webkit-transform: translateX(-180%);\r\n    }\r\n}\r\n\r\n\r\n</style>","import script from \"./situation.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./situation.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./situation.vue?vue&type=style&index=0&id=3291dbc1&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\MyWeb\\\\byproject\\\\bypixel\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3291dbc1\"]])\n\nexport default __exports__","<template>\n<div class=\"bar\" >\n  <div class=\"btnBox\">\n    <div class=\"btn btnleft\"  @click=\"popAbout\">\n      <div class=\"redPoint2\"></div>\n      {{controllLeftText}}</div>\n    <div class=\"btncenter\" @click=\"changeMode\">\n    <div id=\"drawBtn\" class=\"btncenterChange\" >{{drawBtnText}}</div>\n    </div>\n    <div class=\"btn btnright\"  @click=\"popReward\">\n      <div class=\"redPoint1\"></div>\n      {{controllRightText}}</div>\n  </div>\n\n</div>\n\n<!-- 任务弹窗 -->\n<div class=\"popupTask\" @click=\"fadeTask\">\n  <div class=\"taskWindow\">\n    <div class=\"taskX\"></div>\n    <h2>游戏规则</h2>\n    <div class=\"taskContainer\" @click.stop=\"null\">\n      <div class=\"taskWarptop\">\n        <span>\n          欢迎来到军训大对抗！\n          <br/>\n          <br/>\n          作为军训期间限定小游戏，本游戏将持续3天(9.7-9.9)。\n          <br/>\n          <br/>\n          种太阳队vs吃西瓜队，队伍每日有至多两次的升级机会。级数更高的一队将取得游戏的最终胜利！\n        </span>\n      </div>\n      <div class=\"taskTitle\" @click=\"rulespread('.t1')\">团队今日任务</div>\n      <div class=\"taskWarp t1\">\n        <div class=\"taskInfo\" >\n        <div v-if=\"taskshow1\" class=\"task11\"><span>当天<span class=\"highLight\">涂色数量</span>更多的一队将升一级。</span></div>\n        <div v-if=\"taskshow2\" class=\"task12\"><span>当天<span class=\"highLight\">涂色数量</span>更多的队伍将升一级。<br/><br/>当天完成过一次<span class=\"highLight\">目标图案</span>涂色的队伍将升一级。</span></div>\n        <div v-if=\"taskshow3\" class=\"task13\"><span>当天<span class=\"highLight\">涂色数量</span>更多的队伍将升一级。<br/><br/>当天完成过一次<span class=\"highLight\">目标图案</span>涂色的队伍将升一级。</span></div>\n        </div>  \n        <div class=\"tasksubTitle\"  @click=\"rulespread()\">目标图案:</div>\n        <div class=\"taskImg\">\n          <!-- <img  class=\"taskimage\" src=\"http://192.168.80.149:8081/green_frame.png\"/> -->\n          <img  class=\"taskimage\" :src=\"taskImgurl\"/>\n        </div> \n      </div>\n\n      <div class=\"taskTitle\" @click=\"rulespread('.t2')\">队伍升级机制</div>\n      <div class=\"taskWarp t2\">\n        <div class=\"taskInfo\">\n          <span>\n            队伍升级解锁相应<span class=\"highLight\">通行证</span>，点击涂色页面右上方图标可查看。\n            <br/>\n            <br/>\n            团队升至Lv.3时可以解锁<span class=\"highLight\">特制头像框</span>。            \n          </span>\n\n        </div>  \n      </div>      \n      \n      <div class=\"taskTitle\" @click=\"rulespread('.t3')\">个人升级机制</div>\n      <div class=\"taskWarp t3\">\n        <div class=\"taskInfo\">\n          <span>\n            当日<span class=\"highLight\">涂色6块</span>升一级，当日<span class=\"highLight\">涂色15块</span>可再升一级。\n            <br/>\n            <br/>\n            升级后<span class=\"highLight\">填色颜料</span>会相应升级，点击头像可查看<span class=\"highLight\">排行榜</span>。            \n          </span>\n\n        </div>  \n      </div>      \n\n      <div class=\"taskTitle\" @click=\"rulespread('.t4')\">游戏线下奖励</div>\n      <div class=\"taskWarp t4\">\n        <div class=\"taskInfo\">\n          <span>\n            游戏维持<span class=\"highLight\">3天</span>，凭借最终通行证等级可以兑换相应<span class=\"highLight\">水果捞满减</span>券。\n            <br/><br/>排行榜<span class=\"highLight\">前30位</span>可以抽取<span class=\"highLight\">实物周边惊喜盲盒</span>。\n            <br/><br/>具体兑换方式将在<span class=\"highLight\">最后一天（9月9日）</span>公布。\n          </span>\n          </div>  \n      </div>      \n\n\n    </div>\n  </div>\n</div>\n\n<!-- 战况弹窗 -->\n<div  class=\"popupSituation\"  @click=\"fadeSituation\">\n  <situation :showSit=\"showSit\" @changeShowSit=\"changeShowSit\"></situation>\n</div>\n\n<!-- 填色成功，填色冲突失败，填色冷却中 -->\n<div class=\"popupTips\">\n  <div class=\"tipsText\">{{tipsText}}</div>\n</div>\n\n<div v-if=\"showAbout\" class=\"abcWarp\"  @click=\"fadeAbout\">\n  <div  class=\"popUpabc\" >\n    <div class=\"popUpabcIn\" @click.stop=\"null\">\n      <h2 class=\"highLight\">团队及成员</h2>\n      <span>\n        <span>团队：</span>\n        <br/>\n        本游戏由<a href=\"https://mp.weixin.qq.com/s/8gd4jEPklJM0Ki2S3-FmdQ\">冰岩作坊</a>团队制作\n        <br/>\n      </span>\n      \n\n      <span>\n        <br/>   \n        <span>项目组成员：</span>\n        <br/>\n        项目总负责：TuTu      <br/>\n        创意：鸬鹚      <br/>\n        游戏策划：TuTu/Devotion/小西霉      <br/>\n        前端：可乐      <br/>\n        后端：小尹      <br/>\n        设计：玛卡煋      <br/>\n      </span>\n\n      <h2 class=\"highLight\">我们想说：</h2>\n      <span>\n        首先，感谢你参加我们的小游戏。\n        <br/>\n        <br/>\n        其次，我们想说声抱歉。因为我们的考虑不周，游戏有许多不足之处，比如两队人数差距悬殊。\n        <br/>\n        <br/>\n        从创意产生，到开发、运营，项目组每一个人都在尽力改进。若有不足，还望包涵。\n        <br/>\n        <br/>\n        欢迎加入我们！期待和你再次相见！\n        <br/> \n        <br/> \n      </span>\n\n    </div>\n\n\n\n  </div>\n</div>\n\n\n<div v-if=\"showReward\" class=\"abcWarp\"  @click=\"fadeReward\">\n  <div  class=\"popUpabc\">\n    <div  class=\"popUpabcIn\">\n      <div @click.stop=\"null\">\n        <h2 class=\"highLight\">水果捞满减</h2>\n        <span>\n          种太阳队Group lv.4，获满<span class=\"jiacu\">20元-6元</span>福利。\n          <br/>\n          吃西瓜队Group lv.2，获满<span class=\"jiacu\">20元-4元</span>福利。\n          <br/>\n          <br/>\n          <span class=\"jiacu\">可用时间：</span>\n          <br/>\n          2022年9月10日——2022年9月17日。\n          <br/>\n          <br/>\n          <span class=\"jiacu\">可用门店：</span>\n          <br/>\n          夏记水果捞（绝望坡必胜客对面），蜜果C水果捞（生活区门附近）。<span  class=\"jiacu\">（可通过导航查询）</span>\n          <br/>\n          <!-- <div class=\"laoimg\"><img class=\"lao\" src=\"@/assets/iamge/lao1.jpg\"/></div>\n          <div class=\"laoimg\"><img class=\"lao\" src=\"@/assets/iamge/lao2.jpg\"/></div>\n          <div class=\"laoimg\"><img class=\"lao\" src=\"@/assets/iamge/lao3.jpg\"/></div> -->\n          \n          <br/>\n          <span class=\"rewardColor\">付款前请主动将此券出示给营业员。</span>\n          <br/>\n          <div class=\"rewardCard\"><img class=\"rewardCardimg\" :src=\"rewardCardurl\" /></div>\n        </span>\n        <br/>\n        <h2 class=\"highLight\">神秘华科周边</h2>\n        <span>\n          请上榜的30名同学扫码加负责人微信，进行领奖。（截至2022/9/11）\n        </span>\n        <div class=\"jiavx\">\n          <img class=\"jiavximg\" src=\"@/assets/iamge/jiavx.jpg\"/>          \n        </div>\n\n      </div>      \n    </div>\n\n  </div>\n</div>\n\n</template>\n\n<script setup>\nimport axios from 'axios';\nimport { toRefs, defineProps, defineEmits,watch,ref, onMounted } from 'vue';\nimport user from \"../../modules/userState\";\nimport canvas from \"../../modules/canvasState\";\nimport situation from \"./situation.vue\";\nimport cdtime from \"../../modules/cdtime\";\n\n\nlet props = defineProps({\n  mode: {\n    type: Number,\n  },\n  refresh: {\n    type: Boolean,\n  },  \n})\nlet { mode } = toRefs(props);\n// 设置颜色\nlet drawColor;\nif (user.group.value == 1) {\n  drawColor = \"#00d599\";\n} else if (user.group.value == 2) {\n  drawColor = \"#ffc500\";  \n} \n\nlet controllLeftText = ref(\"战况\");\nlet controllRightText = ref(\"规则\");\n\n// let showList = ref(false);\n\n\n// 设置cdtime\nlet drawBtnText = ref(\"填色\");\nif (user.CDtime.value <= 0) {\n  drawBtnText.value = \"填色\";\n} else if (user.CDtime.value > 0) {\n    let CDTimeM = ref(Math.floor(user.CDtime.value / 60));\n    let CDTimeS = ref(user.CDtime.value % 60);\n    if (CDTimeS.value < 10) {\n      CDTimeS.value = `0${CDTimeS.value}`;\n    }\n    drawBtnText.value = `${CDTimeM.value}:${CDTimeS.value}`;  \n}\n\n\n\n// cdtime实时更新显示\nwatch(user.CDtime, (newval) => {\n  console.log(\"cd时间更新\");\n  if (newval == 0 ||newval<0) {\n    drawBtnText.value = \"填色\";\n  } else {\n    let CDTimeM = ref(Math.floor(user.CDtime.value / 60));\n    let CDTimeS = ref(user.CDtime.value % 60);\n    if (CDTimeS.value < 10) {\n      CDTimeS.value = `0${CDTimeS.value}`;\n    }\n    drawBtnText.value = `${CDTimeM.value}:${CDTimeS.value}`;\n  }\n  if (mode.value == 3) {\n    drawBtnText.value = \"填色\";\n  }\n  \n})\n\n// 填色成功、失败、冷却提示\nlet tipsText = ref(\"\");\nlet popTips = function (text, cd) {\n  let time = 2000;\n  if(cd == 1){\n    time = 5000;\n  }\n  tipsText.value = text;\n  let tips = document.querySelector(\".popupTips\");\n  tips.className=\"popupTips scale-in-center\"\n  setTimeout(() => {\n    tips.className = \"popupTips scale-out-center\";\n  }, time);\n}\n\n\nlet emit = defineEmits(['changeMode', \"changeRefresh\"]);\nlet changeMode = () => {\n  if (mode.value == 1) {\n    \n    emit(\"changeMode\", 0);\n  } else if (mode.value == 0) {\n    // 请求是否能填色\n    axios.get(`/user/state`).then((res) => {\n      console.log(res);\n      if (res.data.data.state == true && user.CDtime.value<=0) {\n        emit(\"changeMode\", 1);\n      } else {\n        popTips(\"点击画布右上角的转发按钮，分享游戏即可获得一次冷却时间清零。\",1);\n      }\n    }).catch((res) => {\n      console.log(res);\n    })\n  } else if (mode.value == 2) {\n    // 发送填色：选中的格子\n    let config = {\n      position: canvas.targetSquare.value,\n    };\n    let drawurl = `/canvas`;\n    if (process.env.VUE_APP_develope == \"true\") {\n      drawurl = `/canvaspost`;\n    }\n    axios.post(drawurl, config).then((res) => {\n      console.log(res);\n      // 成功填色就  弹窗成功，回到mode0，请求画布并更新，请求冷却时间\n      if (res.data.data.conflicting == false && res.data.data.cooling == false) {\n        popTips(\"填色成功！\");\n        emit(\"changeMode\", 0);\n        emit(\"changeRefresh\", true);\n        cdtime.getCDtime();\n        // 更新个人等级\n        if (res.data.data.is_user_upgraded == true) {\n          console.log(\"user升级了\");\n          user.level.value = res.data.data.user_level;\n        }\n        // 更新队伍等级\n        if (res.data.data.is_group_upgraded == true) {\n          console.log(\"group升级了\");\n          if (user.group.value == 1) {\n            canvas.group1Level.value = res.data.data.group_level;\n          }\n          if (user.group.value == 2) {\n            canvas.group2Level.value = res.data.data.group_level;\n          }          \n          user.groupLevel.value = res.data.data.group_level;\n\n          // 显示小红点\n          let oldSitSign = localStorage.getItem(\"groupLevelSit1\");\n          if (oldSitSign == null) {\n            oldSitSign = 0;\n          }\n\n          let oldCardSign = localStorage.getItem(\"groupLevelCard1\");\n          if (oldCardSign == null) {\n            oldCardSign = 0;\n          }\n\n          if ( oldSitSign < user.groupLevel.value) {\n            const redPoint2 = document.querySelector(\".redPoint2\");\n            redPoint2.style.display = \"flex\";  \n          }\n          // if (oldCardSign < user.groupLevel.value) {\n            // const redPoint3 = document.querySelector(\".redPoint3\");\n            // if (user.groupLevel.value == 1 || user.groupLevel.value == 2 || user.groupLevel.value == 4) {\n            //   redPoint3.style.display = \"flex\";\n            // }\n          // }      \n\n          //查看是否有完成了画布\n          axios.get(\"/group/status\").then((res) => {\n            console.log(res);\n            canvas.group1CompleteTarget.value = res.data.data.groups[0].complete_target;\n            canvas.group2CompleteTarget.value = res.data.data.groups[1].complete_target;\n          }).catch((res) => {\n            console.log(res);\n          })\n\n\n        }        \n\n      } else {\n        // 填色失败就  弹窗失败， 回到mode1,请求画布并更新\n        if (res.data.data.conflicting == true) {\n          popTips(\"你选择的方格已被你的阵营填色，请重新选择！\");\n          // console.log(\"填色失败，你选择的方格已被你的阵营填色\");\n        } else if (res.data.data.cooling == true) {\n          popTips(\"填色失败，请重试！\")\n          // console.log(\"填色失败，同用户一小时内只能填色一次\");\n        }\n        emit(\"changeMode\", 1);       \n        emit(\"changeRefresh\",true);          \n      }\n\n    }).catch((res) => {\n      console.log(res);\n    });\n  } else if (mode.value == 3) {\n    console.log(\"游戏已结束\");\n  }\n\n}\n\n// 监视mode改变时改填色框的颜色\nwatch(mode, (newval,oldval) => {\n  const drawBtn = document.querySelector(\"#drawBtn\");  \n  console.log(\"mode change \", newval);\n  if (newval == 1&&oldval ==0) {\n    drawBtn.style.backgroundColor = drawColor;    \n    drawBtnText.value = \"填色\";\n  } else if (newval == 0&&oldval==1) {\n    drawBtn.style.backgroundColor = \"rgb(225, 225, 225)\";   \n    drawBtnText.value = \"填色\";\n  } else if (newval == 2) {\n    drawBtnText.value = \"确认\";\n  } else if (newval == 0&&oldval == 2) {\n    drawBtn.style.backgroundColor = \"rgb(225, 225, 225)\";\n    drawBtnText.value = \"填色\";          \n  } else if (newval == 1 && oldval == 2) {\n    drawBtnText.value = \"填色\";      \n  }\n});\n\n// watch(refresh, (newval) => {\n//   // const drawBtn = document.querySelector(\"#drawBtn\");\n//   if (newval == true) {\n//     // console.log(111)\n//     // drawBtn.style.height = \"90px\";\n//     // drawBtn.style.width = \"90px\";\n//     // drawBtn.style.lineHeight = \"90px\";\n//     // drawBtn.style.borderRadius = \"45px\";\n//   } else if (newval == false) {\n//     setTimeout(() => {\n//       // drawBtn.style.height = \"76px\";\n//       // drawBtn.style.width = \"76px\";\n//       // drawBtn.style.lineHeight = \"76px\";\n//       // drawBtn.style.borderRadius = \"38px\";\n//     }, 500);\n\n//   }\n// })\n\n// 任务\n// const taskText1 = `<span>当天<span class=\"highLight\">涂色数量</span>更多的一队将升一级。</span>`;\n// const taskText2 = `<span>当天<span class=\"highLight\">涂色数量</span>更多的队伍将升一级。<br/><br/>当天完成过一次<span class=\"highLight\">目标图案</span>涂色的队伍将升一级。</span>`;\n// const taskText3 = `<span>当天<span class=\"highLight\">涂色数量</span>更多的队伍将升一级。<br/><br/>当天完成过一次<span class=\"highLight\">目标图案</span>涂色的队伍将升一级。</span>`;\n// let taskText = ref(`默认文字`);\nlet sign;\n\n\n\n// let popTask = () => {\n//   let popup = document.querySelector(\".popupTask\");\n//   popup.style.display = \"flex\";\n//   const redPoint1 = document.querySelector(\".redPoint1\");  \n//   if (redPoint1.style.display == \"flex\") {\n//     redPoint1.style.display = \"none\";\n//     console.log(sign);\n//     localStorage.setItem(\"task1\", sign);\n//   }\n// }\nlet fadeTask = () => {\n  let popup = document.querySelector(\".popupTask\");\n  popup.style.display = \"none\";  \n  let t1 =  document.querySelector(\".t1\");\n  let t2 =  document.querySelector(\".t2\");\n  let t3 =  document.querySelector(\".t3\");\n  let t4 = document.querySelector(\".t4\");\n  t1.style.display = \"none\";\n  t2.style.display = \"none\";\n  t3.style.display = \"none\";\n  t4.style.display = \"none\";\n}\n\n\n\n\n\nlet showSit = ref(false);\nlet changeShowSit = (val) => {\n  showSit.value = val;\n}\n// let popSituation = () => {\n//   // 战况页面与主页面同步一下\n//   changeShowSit(true);\n//   // situation里控制显示\n//   const redPoint2 = document.querySelector(\".redPoint2\");  \n//   // 设置当前的等级\n//   if (redPoint2.style.display == \"flex\") {\n//     redPoint2.style.display = \"none\";\n//     console.log(user.groupLevel.value);\n//     localStorage.setItem(\"groupLevelSit1\", user.groupLevel.value);\n//   }\n//   showList.value = true;\n// }\nlet fadeSituation = () => {\n  let popup = document.querySelector(\".popupSituation\");\n  popup.style.display = \"none\";  \n}\n\nlet taskImgurl=ref(\"\");\n\nlet taskshow1 = ref(false);\nlet taskshow2 = ref(false);\nlet taskshow3 = ref(false);\n\n//小红点\nonMounted(() => {\n  // 打开主页面时获取任务\n  axios.get(`/task`).then((res) => {\n    // console.log(\"获取任务：\", res);\n    sign = res.data.data.task;\n    console.log(\"sign\",sign);\n    if (sign == 1) {\n      // taskText.value = taskText1;\n      taskshow1.value = true;\n    } else if (sign == 2) {\n      // taskText.value = taskText2;  \n      taskshow2.value = true;    \n    } else if (sign == 3) {\n      // taskText.value = taskText3;  \n      taskshow3.value = true;          \n    }\n\n    \n    if (res.data.data.img == null) {\n      document.querySelector(\".taskImg\").style.display = \"none\";\n      document.querySelector(\".tasksubTitle\").style.display = \"none\";\n    } else {\n      taskImgurl.value = res.data.data.img;\n    }\n\n    let oldMission = localStorage.getItem(\"task1\");\n    if (oldMission == null) {\n      oldMission = 0;\n    }  \n    console.log(\"oldMission\", oldMission);\n    const redPoint1 = document.querySelector(\".redPoint1\");\n    if (oldMission < sign) {\n      redPoint1.style.display = \"flex\";\n    } else {\n      redPoint1.style.display = \"none\";\n    }\n  }).catch((res) => {\n    console.log(res);\n  })\n\n  // 战况小红点\n  let oldSitSign = localStorage.getItem(\"groupLevelSit1\");\n  if (oldSitSign == null) {\n    oldSitSign = 0;\n  }\n  console.log(\"oldSitSign\", oldSitSign);\n  console.log(\"user.groupLevel.value\", user.groupLevel.value);\n  const redPoint2 = document.querySelector(\".redPoint2\");\n  if (oldSitSign < user.groupLevel.value) {\n    redPoint2.style.display = \"flex\";  \n    redPoint2.style.display = \"none\";  \n  } else {\n      redPoint2.style.display = \"none\"; \n  }\n\n})\n\n\nlet rulespread = (target) => {\n  let targetDom = document.querySelector(target);\n  console.log(targetDom.style.display);\n  // let taskWarpList = document.querySelectorAll(\".taskWarp\");\n  // for (let task of taskWarpList) {\n  //   task.style.display = \"none\";\n  // }\n  let t1 =  document.querySelector(\".t1\");\n  let t2 =  document.querySelector(\".t2\");\n  let t3 =  document.querySelector(\".t3\");\n  let t4 = document.querySelector(\".t4\");\n  t1.style.display = \"none\";\n  t2.style.display = \"none\";\n  t3.style.display = \"none\";\n  t4.style.display = \"none\";\n\n  if (targetDom.style.display != \"none\" ) {\n    targetDom.style.display = \"none\";  \n  } else if (targetDom.style.display == \"none\") {\n    targetDom.style.display = \"flex\";  \n  }\n\n}\n// taskTitle\n\n\n// 游戏结束显示为涂色冻结\nif (mode.value == 3) {\n  drawBtnText.value = \"填色\";\n  controllLeftText.value = \"关于我们\";\n  controllRightText.value = \"领奖方式\";\n}\n\nlet showAbout = ref(false);\nlet showReward = ref(false);\n\nlet popAbout = () => {\n  showAbout.value = true;\n}\n\nlet fadeAbout = () => {\n  showAbout.value = false;\n}\n\nlet popReward = () => {\n  showReward.value = true;\n\n}\n\nlet fadeReward = () => {\n  showReward.value = false;  \n}\n\n\nlet rewardCardurl = ref(\"\");\nif (user.group.value == 1) {\n  rewardCardurl.value = \"reward1.png\";\n} else if (user.group.value == 2) {\n  rewardCardurl.value = \"reward2.png\";  \n}\n\nwatch(showReward, (newval) => {\n  if (newval == true) {\n    setTimeout(() => {\n      if (user.group.value == 1) {\n        document.querySelector(\".rewardColor\").style.color = \"#00d599\";\n      } else if (user.group.value == 2) {\n        document.querySelector(\".rewardColor\").style.color = \"#ffc500\";\n      }    \n    }, 10);    \n  }\n\n\n})\n\n\n</script>\n\n\n<style scoped>\n.bar {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 13vh;\n  /* position: relative; */\n}\n\n.btnBox {\n  /* position: absolute; */\n  /* border: 4px solid black; */\n  width: 80vw;\n  height: 12vh;\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  background-image: url(\"@/assets/iamge/controllera.png\");\n  background-size:  100% 100%;\n  background-repeat: no-repeat;\n  /* filter: grayscale(100%); */\n}\n\n.btn{\n  /* border: 3px solid black; */\n  z-index: 1;\n  width: 32vw;\n  height: 12vw;\n  line-height: 12vw;\n  text-align: center;\n  font-size: 2.6vh;\n  background-color: rgba(255, 255, 255, 0);\n  position: relative;\n}\n\n.btncenter {\n  position: absolute;\n  z-index: 2;\n  height: 12vh;\n  width: 12vh;  \n  /* border: 4px solid black; */\n  /* border-radius: 49px; */\n  /* background-color: rgba(255, 255, 255, 0); */\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-image: url(\"@/assets/iamge/controllerb.png\");\n  background-size:  100% 100%;\n  background-repeat: no-repeat;\n}\n\n.btncenterChange {\n  background-color: rgb(225, 225, 225);\n  height: 9vh;\n  width: 9vh;   \n  line-height: 9vh;  \n  font-size: 3vh;  \n  border-radius: 50%;  \n  text-align: center;\n  transition: .5s;\n}\n\n.btnleft {\n  margin-right: 7.5vmin;\n}\n\n\n.btnright {\n  margin-left: 7.5vmin;\n}\n\n\n.popupTask {\n  display: none;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n  position: absolute;\n  top: 0;\n  width: 100vw;\n  height: 120vh;\n  background-color: rgba(0, 0, 0, 0.448);\n  z-index: 10;\n}\n\n.taskWindow{\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n  overflow: hidden;\n  width: 88vw;\n  height: 65vh;\n  margin-top: 14vh;\n  background-color: white;\n  border: 4px solid black;\n  box-sizing: border-box;\n  font-size: 4vmin;\n  border-radius: 4px;\n  position: relative;\n}\n\n\n.taskX{\n  position: absolute;\n  width: 7vmin;\n  height: 7vmin;\n  top: 1vh;\n  right: 1vh;\n  background-image: url(\"@/assets/iamge/taskclose.png\");\n  background-size: 100% 100%;\n}\n.taskContainer{\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;  \n  overflow: scroll;\n  width: 100%;\n  padding-bottom: 2vh;\n}\n.taskWindow h2 {\n  margin: 0;\n  margin-top: 1vh;\n  margin-bottom: 1vh;\n  padding: 0;\n}\n\n.taskInfo{\n  font-size: 4vmin;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.taskWarp {\n  padding-top: 0.5vh;  \n  padding-bottom: 2vh;\n  padding-left: 4.8vh;  \n  padding-right: 4.8vh;  \n  display: none;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n\n.taskWarptop {\n  padding-top: 0.5vh;  \n  padding-bottom: 2vh;\n  padding-left: 4.7vh;  \n  padding-right: 4.7vh;  \n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n\n\n.taskTitle{\n  margin-top: 3vh;\n  padding-top: 0.2vh;\n  padding-bottom: 0.2vh;\n  margin-bottom: 2vh;\n  font-size: 5.5vmin;  \n  font-weight: 560;\n  width: 82%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-bottom: 1px solid rgb(174, 174, 174);\n  border-top: 1px solid rgb(174, 174, 174);\n}\n\n.title4 {\n  margin-bottom: 6vh;\n}\n.tasksubTitle {\n  margin-top: 2vh;\n  margin-bottom: 1vh;\n  font-size: 5vmin;  \n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;  \n}\n.taskImg {\n  width: 104%;\n  margin-top: 0;\n  margin-bottom: 2vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.taskimage {\n  object-fit: contain;\n  width: 100%;\n  height: 100%;\n}\n\n.popupSituation {\n  display: none;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n  position: absolute;\n  top: 0; \n  /* 让它从网页的top 0 开始 */\n  width: 100vw;\n  height: 120vh;\n  z-index: 10;\n  background-image: url(\"@/assets/iamge/background.jpg\");\n  background-size: 100vw;\n  background-repeat: repeat-y;\n}\n\n\n.popupTips{\n  position: absolute;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  visibility: hidden;\n  /* width: 58vw; */\n  width: auto;\n  min-width: 40vw;\n  max-width: 58vw;\n  height: auto;\n  min-height: 5vh;\n  padding-top: 2vh;\n  padding-bottom: 2vh;\n  padding-left: 5vmin;\n  padding-right: 5vmin;\n  border: 3px solid black;\n  border-radius: 3px;\n  background-color: rgb(255, 255, 255);\n  top: 60vh;\n  transition: all .5s;\n  opacity: 0;\n  z-index: -1;\n}\n\n/* .popanime {\n  z-index: 10;\n  visibility: visible;  \n  opacity: 1;\n  transition: all .5s;\n} */\n\n.scale-in-center {\n  z-index: 10;\n  visibility: visible;  \n  opacity: 1;\n\t-webkit-animation: scale-in-center 0.5s cubic-bezier(0.250, 0.460, 0.450, 0.940) both;\n  animation: scale-in-center 0.5s cubic-bezier(0.250, 0.460, 0.450, 0.940) both;\n}\n\n@-webkit-keyframes scale-in-center {\n  0% {\n    -webkit-transform: scale(0);\n            transform: scale(0);\n    opacity: 0;\n  }\n  100% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    opacity: 1;\n  }\n}\n@keyframes scale-in-center {\n  0% {\n    -webkit-transform: scale(0);\n            transform: scale(0);\n    opacity: 0;\n  }\n  100% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    opacity: 1;\n  }\n}\n\n.scale-out-center {\n  z-index: -1;\n  visibility: hidden;  \n\t-webkit-animation: scale-out-center 0.3s cubic-bezier(0.550, 0.085, 0.680, 0.530) both;\n  animation: scale-out-center 0.3s cubic-bezier(0.550, 0.085, 0.680, 0.530) both;\n}\n\n@-webkit-keyframes scale-out-center {\n  0% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    opacity: 1;\n  }\n  60% {\n    opacity: 0;\n  }\n  100% {\n    -webkit-transform: scale(0);\n            transform: scale(0);\n    opacity: 0;\n  }\n}\n@keyframes scale-out-center {\n  0% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n    opacity: 1;\n  }\n  60% {\n    opacity: 0;    \n  }\n  100% {\n    -webkit-transform: scale(0);\n            transform: scale(0);\n    opacity: 0;\n  }\n}\n\n.tipsText {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.redPoint1 {\n  width: 2vw;\n  height: 2vw;\n  border-radius: 50%;\n  background-color: red;\n  display: none;\n  position: absolute;\n  top: 5vw;\n  right: 6vw;\n}\n\n.redPoint2 {\n  width: 2vw;\n  height: 2vw;\n  border-radius: 50%;\n  background-color: red;\n  display: none;\n  position: absolute;\n  top: 5vw;\n  right: 6vw;\n}\n\n\n.highLight {\n  color: rgb(241, 137, 109);\n  font-weight: 600;\n}\n\n\n.abcWarp {\n  width: 100vw;\n  height: 100vh;\n  z-index: 100;\n  position: absolute;\n  display: flex;\n  justify-content: center;\n  align-items: center;  \n}\n.popUpabc {\n  width: 90vw;\n  height: 78vh;\n  position: relative;\n  /* top: 30vh; */\n  background-color: white;\n  border: 2px solid black;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  z-index: 100;\n  padding-top: 2vh;\n\n}\n\n.popUpabc h2 {\n  margin: 0;\n  margin-top: 2vh;\n  margin-bottom: 1vh;\n  padding: 0;\n  font-size: 5.5vmin;\n}\n\n\n\n/* .popUpabc span {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  font-size: 4vmin;\n}\n */\n.popUpabc a {\n  text-decoration: none;\n}\n\n\n.popUpabc::after {\n  content: \"✖ \";\n  position: absolute;\n  top: 0;\n  right: 2vmin;\n}\n\n.popUpabcIn {\n  width: 90%;\n  padding: 5%;\n  height: 90%;\n  overflow-y: scroll;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n}\n\n.laoimg {\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-top: 1vh;\n  margin-bottom: 1vh;\n}\n.lao {\n  width:55%;\n}\n\n.rewardCard {\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.rewardCardimg {\n  width: 85%;\n}\n\n.jiavx {\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.jiavximg {\n  width: 70%;\n}\n\n.jiacu {\n  font-weight: 600;\n}\n\n\n.rewardColor {\n  color: #ffc500;\n}\n</style>","import script from \"./bottomBar.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./bottomBar.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./bottomBar.vue?vue&type=style&index=0&id=2ad29ea8&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\MyWeb\\\\byproject\\\\bypixel\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-2ad29ea8\"]])\n\nexport default __exports__","<template>\r\n<div class=\"winPageWarp\">\r\n  <div class=\"winpageWarp-AD\" @click=\"toMain\">\r\n    <userInfo :logo=\"logo\"  :clickable=\"false\" ></userInfo>\r\n    <section class=\"winCardWarp\">\r\n      <div class=\"card0\">\r\n        <div ref=\"cd1\" class=\"cardDefalutText\">Group Lv.2即可解锁</div>\r\n        <div ref=\"card1\" class=\"card1\">\r\n          <img class=\"userimg\" :src=\"user.userImg\" />\r\n          <div>青铜哦，再接再厉！</div>\r\n        </div>\r\n        </div>\r\n      <div class=\"card0\">\r\n        <div ref=\"cd2\" class=\"cardDefalutText\">Group Lv.3即可解锁</div>\r\n        <div ref=\"card2\" class=\"card2\">\r\n          <img class=\"userimg\" :src=\"user.userImg\" />\r\n          <div>太棒啦，白银能手！</div>\r\n        </div>\r\n        </div>\r\n      <div class=\"card0\">\r\n        <div ref=\"cd3\" class=\"cardDefalutText\">Group Lv.5即可解锁</div>\r\n        <div ref=\"card3\" class=\"card3\">\r\n          <img class=\"userimg\" :src=\"user.userImg\" />\r\n          <div>OMG！已经是黄金啦！</div>\r\n        </div>\r\n        </div>\r\n    </section>\r\n\r\n    <div class=\"backToMain\">\r\n      <!-- <div class=\"toMainBtn\">\r\n        <div class=\"btnColor\" :style=\"{backgroundColor}\"  >填色</div>\r\n      </div> -->\r\n      <div class=\"returnTips\">点击任意地方返回</div>\r\n    </div>\r\n     \r\n  </div>\r\n  <footerAD></footerAD>   \r\n</div>\r\n\r\n<!-- \r\n  top  15vh\r\n  cards 55vh\r\n  btn 13vh\r\n-->\r\n\r\n</template>\r\n\r\n<script setup>\r\nimport userInfo from './userInfo.vue';\r\nimport { toRefs,defineProps, ref, onMounted,watch} from \"vue\";\r\nimport user from \"../../modules/userState\";\r\n// import canvas from \"../../modules/canvasState\";\r\nimport footerAD from '../footerAD.vue';\r\n\r\n\r\nconst props = defineProps({\r\n  logo: {},\r\n});\r\nconst { logo } = toRefs(props);\r\n\r\nlet backgroundColor = ref(\"\");\r\nif (user.group.value == 1) {\r\n  // console.log(\"设置winpage 涂色框的颜色\")\r\n  backgroundColor.value = \"#00d599\";\r\n} else if (user.group.value == 2) {\r\n  // console.log(\"设置winpage 涂色框的颜色\")\r\n  backgroundColor.value = \"#ffc500\"\r\n}\r\n\r\nlet card1 = ref(null);\r\nlet card2 = ref(null);\r\nlet card3 = ref(null);\r\nlet cd1 = ref(null);\r\nlet cd2 = ref(null);\r\nlet cd3 = ref(null);\r\n// 初始化设置卡片\r\nonMounted(() => {\r\n  // console.log(\"winner page mounted\");\r\n  // 即使display==none的组件也会执行代码\r\n  if (user.groupLevel.value >= 2) {\r\n    cd1.value.style.display = \"none\";\r\n    card1.value.style.display = \"flex\";\r\n  }\r\n  if (user.groupLevel.value >= 3) {\r\n    cd2.value.style.display = \"none\";\r\n    card2.value.style.display = \"flex\";\r\n  }\r\n  if (user.groupLevel.value >= 5) {\r\n    cd3.value.style.display = \"none\";\r\n    card3.value.style.display = \"flex\";\r\n  }\r\n})\r\n\r\nwatch(user.groupLevel, (newval) => {\r\n  if (newval == 2) {\r\n    cd1.value.style.display = \"none\";\r\n    card1.value.style.display = \"flex\";\r\n  }  \r\n  else if (newval == 3 || newval == 4) {\r\n    cd1.value.style.display = \"none\";\r\n    cd2.value.style.display = \"none\";\r\n    card1.value.style.display = \"flex\";    \r\n    card2.value.style.display = \"flex\";\r\n  }  \r\n  else if (newval == 5 || newval == 6) {\r\n    cd1.value.style.display = \"none\";\r\n    cd2.value.style.display = \"none\";    \r\n    cd3.value.style.display = \"none\";    \r\n    card1.value.style.display = \"flex\";\r\n    card2.value.style.display = \"flex\";\r\n    card3.value.style.display = \"flex\";\r\n  }    \r\n})\r\n\r\n\r\n\r\nlet toMain = () => {\r\n  document.querySelector(\".popupWinerPage\").style.display = \"none\";\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.winPageWarp {\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  flex-direction: column;\r\n  background-color: rgba(94, 94, 94, 0.186);\r\n}\r\n\r\n.winpageWarp-AD{\r\n  width: 100%;\r\n  display: flex;\r\n  flex-grow: 1;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  flex-direction: column;\r\n}\r\n.winCardWarp {\r\n  width: 100vw;\r\n  height: 58vh;\r\n  /* background-color: antiquewhite; */\r\n  display: flex;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n  flex-direction: column;\r\n}\r\n\r\n.card0 {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  max-height: 16vh;\r\n  height: 23vw;\r\n  width: 90vw;\r\n  /* background-color: rgb(88, 184, 184); */\r\n  background-image: url(\"@/assets/iamge/win_card0.png\");\r\n  background-size: 100% 100%;\r\n  /* filter: drop-shadow(0 0 4vw #ffb520aa); */\r\n\r\n}\r\n\r\n.cardDefalutText{\r\n  width: 90%;\r\n  font-size: 5vmin;\r\n}\r\n.userimg {\r\n  width: 13%;\r\n  height: auto;\r\n  border-radius: 50%;\r\n  border: 2px solid black;\r\n  position: absolute;\r\n  left: 5%;\r\n}\r\n\r\n.card1 {\r\n  display: none;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-direction: row;\r\n  max-height: 16vh;\r\n  height: 23vw;\r\n  width: 90vw;\r\n  color: rgb(162, 54, 0);\r\n  background-image: url(\"@/assets/iamge/win_card1.png\");\r\n  background-size: 100% 100%;\r\n  position: relative;\r\n}\r\n\r\n\r\n.card2 {\r\n  display: none;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-direction: row;\r\n  max-height: 16vh;\r\n  height: 23vw;\r\n  width: 90vw;\r\n  color: rgb(0, 0, 111);\r\n  background-image: url(\"@/assets/iamge/win_card2.png\");\r\n  background-size: 100% 100%;\r\n  position: relative;\r\n}\r\n\r\n.card3 {\r\n  display: none;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-direction: row;\r\n  max-height: 16vh;\r\n  height: 23vw;\r\n  width: 90vw;\r\n  color: rgb(103, 12, 0);\r\n  background-image: url(\"@/assets/iamge/win_card3.png\");\r\n  background-size: 100% 100%;\r\n  position: relative;\r\n}\r\n\r\n\r\n.backToMain {\r\n  width: 100vw;\r\n  height: 13.5vh;\r\n  /* background-color: aquamarine; */\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n}\r\n\r\n.toMainBtn {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 12vh;\r\n  height: 12vh;\r\n  background-image: url(\"@/assets/iamge/controllerb.png\");\r\n  background-size: 100% 100%;\r\n}\r\n\r\n.btnColor {\r\n  width: 9vh;\r\n  height: 9vh;\r\n  border-radius: 50%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  font-size: 3vh;\r\n}\r\n\r\n\r\n.returnTips{\r\n  font-size: 4vmin;\r\n  color: rgb(67, 67, 67);\r\n}\r\n</style>","import script from \"./winnerPage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./winnerPage.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./winnerPage.vue?vue&type=style&index=0&id=ef973ee8&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\MyWeb\\\\byproject\\\\bypixel\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-ef973ee8\"]])\n\nexport default __exports__","<template>\r\n<userInfo :logo=\"logo\"  :clickable=\"true\"></userInfo>\r\n\r\n<!-- 点称号显示弹窗 -->\r\n<div class=\"popupWinerPage\" >\r\n  <winnerPage  :logo=\"logo\"></winnerPage>\r\n</div>\r\n\r\n</template>\r\n\r\n<script setup>\r\nimport { toRefs,defineProps } from \"vue\";\r\n// import user from \"../../modules/userState\";\r\n// import canvas from \"../../modules/canvasState\";\r\nimport userInfo from \"./userInfo.vue\"\r\nimport winnerPage from \"./winnerPage.vue\"\r\n\r\nconst props = defineProps({\r\n  logo: {}\r\n});\r\nconst {logo} = toRefs(props);\r\n\r\n\r\n\r\n\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.infoBox {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  height: 15vh; \r\n  width: 95%;\r\n}\r\n\r\n.userInfo {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n}\r\n\r\n.infoImg{\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.userImg {\r\n  width: 46%;\r\n  border-radius: 50%;\r\n  border: 2px solid black;\r\n}\r\n\r\n.headFrame{\r\n  height: 12vh;\r\n  width: 12vh;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  /* background-color: antiquewhite; */\r\n  /* background-image: url(\"@/assets/iamge/green_frame.png\"); */\r\n  /* background-image: url(\"@/assets/iamge/yellow_frame.png\"); */\r\n  background-size: 100%;\r\n  margin-right: 4px;\r\n\r\n}\r\n\r\n\r\n.infoText {\r\n  max-width: 35vw;\r\n  padding-top: 12px;\r\n  padding-bottom: 12px;\r\n  padding-left: 12px;\r\n  padding-right: 12px;\r\n  background-color: rgb(255, 255, 255);\r\n  /* display: flex;\r\n  justify-content: center;\r\n  align-items: center; */\r\n  overflow: hidden;\r\n  text-overflow:ellipsis;\r\n  white-space: nowrap;\r\n  border: 2px solid black;\r\n}\r\n\r\n\r\n.groupLogo {\r\n  height: 10vh;\r\n}\r\n\r\n.groupLogo img {\r\n  height: 100%;\r\n}\r\n\r\n.popupWinerPage {\r\n  display: none;\r\n  justify-content: center;\r\n  align-items: center;\r\n  position: absolute;\r\n  top: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  background-image: url(\"@/assets/iamge/background.jpg\");\r\n  background-size: 100% ;\r\n  background-repeat: repeat;\r\n  z-index: 10;\r\n}\r\n\r\n\r\n\r\n</style>\r\n","import script from \"./topUserInfo.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./topUserInfo.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./topUserInfo.vue?vue&type=style&index=0&id=27a06e20&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\MyWeb\\\\byproject\\\\bypixel\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-27a06e20\"]])\n\nexport default __exports__","<template>\r\n<div class=\"gameView \">\r\n  <div class=\"game fade-in\">\r\n    <topUserInfo :logo=\"topLogoImg\" ></topUserInfo>\r\n    <mainCanvas :mode=\"mode\" :refresh=\"refresh\" @changeMode=\"changeMode\" @changeRefresh=\"changeRefresh\" ></mainCanvas>    \r\n    <bottomBar :mode=\"mode\" :refresh=\"refresh\" @changeMode=\"changeMode\" @changeRefresh=\"changeRefresh\" ></bottomBar>    \r\n    <footerAD></footerAD>\r\n    <!--\r\n      -top  15vh\r\n      -maincanvas 62vh\r\n      -AD  7vh\r\n      bottom 13vh\r\n      -->\r\n  </div>\r\n\r\n  <!-- <div class=\"showWinCard1Warp showingCard1\">\r\n    <div class=\"showWinCard1\">青铜哦，再接再厉！</div>\r\n  </div> -->\r\n</div>\r\n</template>\r\n\r\n<script setup>\r\nimport { onMounted, ref } from \"vue\";\r\nimport mainCanvas from '../components/gameView/mainCanvas.vue'\r\nimport bottomBar from '../components/gameView/bottomBar.vue'\r\nimport topUserInfo from '../components/gameView/topUserInfo.vue'\r\nimport footerAD from \"../components/footerAD.vue\"\r\nimport user from \"@/modules/userState\"\r\nimport router from \"@/router\";\r\n// import \"../request/axios\"\r\n\r\nlet mode = ref(3);\r\nlet refresh = ref(false);\r\n// mode控制涂色，mode1能涂色，mode0不能\r\n// refresh == true 时刷新画布\r\nlet changeMode = (num) => {\r\n  mode.value = num;\r\n  // console.log(\"change mode to \", mode.value);\r\n};\r\nlet changeRefresh = (val) => {\r\n  refresh.value = val;\r\n};\r\n\r\n// top的logo根据阵营显示\r\nlet topLogoImg = ref(null);\r\n\r\n// 没有group就跳回loading\r\nif (user.group.value == 0) {\r\n  // console.log(\"到game主页面，但是没选择group\")\r\n  router.replace(\"/loading\");\r\n} else if (user.group.value == 1) {\r\n  topLogoImg.value = require(`@/assets/iamge/greenlogo.png`);\r\n} else if (user.group.value == 2) {\r\n  topLogoImg.value = require(`@/assets/iamge/yellowlogo.png`);  \r\n}\r\n\r\nlet situationBorder = new Image();\r\nsituationBorder.src = require(`@/assets/iamge/situation_border.png`); \r\nlet wincard0 = new Image();\r\nwincard0.src = require(`@/assets/iamge/win_card0.png`);\r\n\r\n\r\nonMounted(() => {\r\n  console.log(\"gameView onMounted\");\r\n})\r\n\r\n</script>\r\n\r\n<style scoped>\r\n\r\n\r\n.gameView {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  width: 100%;\r\n  height: 100vh;\r\n  background-image: url(\"@/assets/iamge/background.jpg\");\r\n  background-size: 100vw;\r\n  position: relative;\r\n\r\n}\r\n\r\n.game {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  flex-grow: 1;  \r\n  width: 100%;\r\n  height: 100%;\r\n  /* position: relative; */\r\n}\r\n\r\n.fade-in {\r\n\t-webkit-animation: fade-in .4s ease-in both;\r\n  animation: fade-in .4s ease-in both;\r\n}\r\n\r\n@-webkit-keyframes fade-in {\r\n  0% {\r\n    opacity: 0;\r\n  }\r\n  100% {\r\n    opacity: 1;\r\n  }\r\n}\r\n@keyframes fade-in {\r\n  0% {\r\n    opacity: 0;\r\n  }\r\n  100% {\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n\r\n.showWinCard1Warp {\r\n  display: none;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  position: absolute;\r\n  height: 100%;\r\n  width: 100%;\r\n  background-color: rgba(255, 255, 255, 0.547);\r\n}\r\n\r\n.showWinCard1 {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  max-height: 16vh;\r\n  height: 23vw;\r\n  width: 90vw;\r\n  background-image: url(\"@/assets/iamge/win_card1.png\");\r\n  background-size: 100% 100%;  \r\n  animation: showingcard 2s infinite;   \r\n}\r\n\r\n.showingCard1 {\r\n  display: flex;\r\n}\r\n\r\n\r\n\r\n@keyframes showingcard {\r\n  0% {\r\n    filter: drop-shadow(0 0 2vw #ffb520aa);      \r\n  }\r\n  50% {\r\n    filter: drop-shadow(0 0 15vw #ffb520aa);      \r\n  }\r\n  100% {\r\n    filter: drop-shadow(0 0 2vw #ffb520aa);       \r\n  }\r\n}\r\n\r\n</style>\r\n","import script from \"./gameView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./gameView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./gameView.vue?vue&type=style&index=0&id=39c64b98&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\MyWeb\\\\byproject\\\\bypixel\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-39c64b98\"]])\n\nexport default __exports__"],"names":["getCDtime","axios","then","res","data","state","console","log","user","lastTime","last_paint_time","Math","ceil","duration","daytime","Date","now","nextTime","nowTime","floor","cdt","catch","err","mode","refresh","toRefs","props","configLayer","reactive","scaleX","scaleY","urlprefix","shareBtnIcon","ref","shareCardImg","value","canvas","configKonva","configField","configSquares","currentFieldX","currentFieldY","cc","stage","Field","saveSquare","squareName","squareId","stroke","strokeWidth","ar","event","target","parent","attrs","x","y","scaleController","scale","centerX0","centerY0","centerXf","centerYf","oldDistance","getDistance","a","b","hypot","getCenter","scaleStart","undefined","evt","touches","length","clientX","clientY","distance","center","stageX","document","querySelector","getBoundingClientRect","stageY","scaleEnd","scaleMove","changedTouches","newDistance","scrollSpeed","ratio","pos","newY","newX","drawCanvas","i","j","fill","occupy","getStage","find","moveToTop","updateCanvas","router","location","reload","pixels_num","group_1","group_2","last_paint","pixel_position","time","nickname","group","setInterval","watch","newval","emit","changeModeTo2","oldval","moveToBottom","lastPaintMin","lastPaintRawText","colorEvent","name","id","slice","targetSquare","push","Stage","lastTarget","below","Number","above","left","right","targetTouches","lastPaintTime","lastPaintName","lastPaintHour","lastPaintText","onMounted","lastpaintBar","style","backgroundColor","className","setTimeout","shareTimer","showSharePage","popSharePage","fadeSharePage","reCDflag","startTimer","cdtime","endTimer","clearTimeout","showTT","abcfade","__exports__","showSit","showRanking","fadeRanking","popup","display","day2","daynow","scrollText","drawColor","controllLeftText","controllRightText","drawBtnText","CDTimeM","CDTimeS","sign","tipsText","popTips","text","cd","tips","changeMode","config","position","drawurl","process","conflicting","cooling","is_user_upgraded","user_level","is_group_upgraded","group_level","oldSitSign","localStorage","getItem","oldCardSign","redPoint2","groups","complete_target","drawBtn","fadeTask","t1","t2","t3","t4","changeShowSit","val","fadeSituation","taskImgurl","taskshow1","taskshow2","taskshow3","task","img","oldMission","redPoint1","rulespread","targetDom","showAbout","showReward","popAbout","fadeAbout","popReward","fadeReward","rewardCardurl","color","logo","card1","card2","card3","cd1","cd2","cd3","toMain","num","changeRefresh","topLogoImg","require","situationBorder","Image","src","wincard0"],"sourceRoot":""}